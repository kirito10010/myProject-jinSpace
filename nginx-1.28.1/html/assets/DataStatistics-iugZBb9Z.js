import{d as Pt,S as Me,k as Ut,W as Et,c as de,a as m,b as a,w as n,C as ue,D as X,h as v,i as q,E as i,r as C,o as z,g as y,H as Ne,I as Le,z as ce,e as E,N as Re,M as Z,K as xe,O as Pe,P as ee,L as At}from"./index-XKV8mbYI.js";import{s as j}from"./request-BYh0DQqL.js";import{i as qt,L as zt}from"./index-5QPu3XI4.js";import{_ as Yt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-B9ygI19o.js";const Qe=async w=>await j({url:"/api/project/list",method:"get",params:{uid:w}}),_t=async w=>await j({url:"/api/project/add",method:"post",data:w}),$t=async(w,D)=>await j({url:"/api/project/update",method:"put",params:{uid:D},data:w}),Bt=async(w,D)=>await j({url:`/api/project/${w}`,method:"delete",params:{uid:D}}),It=async(w,D)=>await j({url:"/api/project/batchDelete",method:"delete",data:{ids:w,uid:D}}),Wt=async w=>await j({url:"/api/performance/add",method:"post",data:w}),Ft=async(w,D)=>await j({url:"/api/performance/list",method:"get",params:{uid:w,date:D}}),Nt=async(w,D,A)=>await j({url:"/api/performance/range",method:"get",params:{uid:w,startDate:D,endDate:A}}),Te=async(w,D)=>await j({url:`/api/performance/${w}`,method:"delete",params:{uid:D}}),Lt=async w=>j({url:"/api/salary/add",method:"post",data:w}),Qt=async w=>j({url:"/api/salary/update",method:"put",data:w}),Tt=async w=>j({url:"/api/salary/list",method:"get",params:{uid:w}}),Ot=async(w,D)=>j({url:`/api/salary/${w}`,method:"delete",params:{uid:D}}),Ht=async(w,D)=>j({url:"/api/salary/batch",method:"delete",data:{ids:w,uid:D}}),Kt={class:"data-statistics"},Jt={class:"top-bar"},Gt={class:"button-group"},Xt={class:"content-area"},Zt={class:"time-range-selector"},ea={key:0,class:"month-select-range"},ta={key:1,class:"custom-date-range"},aa={class:"performance-summary"},la={class:"performance-card"},oa={class:"performance-value"},ra={class:"performance-card"},na={class:"performance-value"},sa={class:"performance-card"},ia={class:"performance-value"},da={class:"chart-container"},ua={class:"table-actions"},ca={class:"pagination"},pa={class:"dialog-footer"},ma={class:"table-actions"},fa={class:"pagination"},ga={class:"dialog-footer"},ya={class:"table-actions"},va={class:"pagination"},ba={class:"form-row"},wa={class:"form-col"},ha={class:"form-col"},Va={class:"dialog-footer"},Sa={class:"form-row"},Da={class:"form-col"},ka={class:"form-col"},Ca={class:"dialog-footer"},ja=Pt({__name:"DataStatistics",setup(w){const D=v(!1),A=v(!1),te=v(!1),T=v(!1),pe=v(!1),ae=v(!1),f=q({attendanceDays:25,baseSalary:2e3,performance:0,positionPerformance:500,mealAllowance:200,housingAllowance:300,fullAttendance:300,otherBonus:100,pension:360.32,medical:90.08,unemployment:13.51}),Oe=()=>{try{const t=k();if(!t)return;const e=localStorage.getItem(`salary_default_config_${t.id}`);if(e){const r=JSON.parse(e);Object.assign(f,r)}}catch(t){console.error("加载默认配置失败：",t)}},He=()=>{try{const t=k();if(!t){i.error("请先登录");return}localStorage.setItem(`salary_default_config_${t.id}`,JSON.stringify(f)),i.success("默认配置保存成功"),ae.value=!1}catch(t){console.error("保存默认配置失败：",t),i.error("保存默认配置失败")}},O=v(!1),be=v(!1),H=v(!1),me=v(!1),we=v(!1),he=v(!1),le=v([]),K=v([]),F=v([]),Ue=v([]),M=q({current:1,pageSize:10,total:0}),$=v([]),B=v([]),Ee=v([]),Ve=v(!1),R=q({current:1,pageSize:10,total:0}),N=v(),o=q({id:0,uid:"",yearMonth:"",periodStart:"",periodEnd:"",attendanceDays:0,baseSalary:0,performance:0,performanceSalary:0,positionPerformance:0,mealAllowance:0,housingAllowance:0,fullAttendance:0,otherBonus:0,pension:0,medical:0,unemployment:0,lateDeduction:0,overtimeHours:0,overtimeSalary:0,totalIncome:0,totalDeduction:0,netSalary:0}),Ke=q({yearMonth:[{required:!0,message:"请选择年月",trigger:"change"}],periodStart:[{required:!0,message:"请选择周期开始日期",trigger:"change"}],periodEnd:[{required:!0,message:"请选择周期结束日期",trigger:"change"}],attendanceDays:[{required:!0,message:"请输入出勤天数",trigger:"blur"},{type:"number",min:0,message:"出勤天数必须大于等于0",trigger:"blur"}],baseSalary:[{required:!0,message:"请输入基本薪资",trigger:"blur"},{type:"number",min:0,message:"基本薪资必须大于等于0",trigger:"blur"}],performance:[{required:!0,message:"请输入绩效系数/评分",trigger:"blur"},{type:"number",min:0,message:"绩效系数必须大于等于0",trigger:"blur"}],performanceSalary:[{required:!0,message:"请输入绩效薪资",trigger:"blur"},{type:"number",min:0,message:"绩效薪资必须大于等于0",trigger:"blur"}],positionPerformance:[{required:!0,message:"请输入岗位绩效",trigger:"blur"},{type:"number",min:0,message:"岗位绩效必须大于等于0",trigger:"blur"}],mealAllowance:[{required:!0,message:"请输入餐补",trigger:"blur"},{type:"number",min:0,message:"餐补必须大于等于0",trigger:"blur"}],housingAllowance:[{required:!0,message:"请输入房补",trigger:"blur"},{type:"number",min:0,message:"房补必须大于等于0",trigger:"blur"}],fullAttendance:[{required:!0,message:"请输入全勤奖",trigger:"blur"},{type:"number",min:0,message:"全勤奖必须大于等于0",trigger:"blur"}],otherBonus:[{required:!0,message:"请输入其他奖金",trigger:"blur"},{type:"number",min:0,message:"其他奖金必须大于等于0",trigger:"blur"}],pension:[{required:!0,message:"请输入养老保险",trigger:"blur"},{type:"number",min:0,message:"养老保险必须大于等于0",trigger:"blur"}],medical:[{required:!0,message:"请输入医疗保险",trigger:"blur"},{type:"number",min:0,message:"医疗保险必须大于等于0",trigger:"blur"}],unemployment:[{required:!0,message:"请输入失业保险",trigger:"blur"},{type:"number",min:0,message:"失业保险必须大于等于0",trigger:"blur"}],lateDeduction:[{type:"number",min:0,message:"迟到分钟必须大于等于0",trigger:"blur"}],overtimeHours:[{type:"number",min:0,message:"加班时长必须大于等于0",trigger:"blur"}],overtimeSalary:[{type:"number",min:0,message:"加班薪资必须大于等于0",trigger:"blur"}],totalIncome:[{required:!0,message:"请输入应发总额",trigger:"blur"},{type:"number",min:0,message:"应发总额必须大于等于0",trigger:"blur"}],totalDeduction:[{required:!0,message:"请输入扣除总额",trigger:"blur"},{type:"number",min:0,message:"扣除总额必须大于等于0",trigger:"blur"}],netSalary:[{required:!0,message:"请输入实发薪资",trigger:"blur"},{type:"number",min:0,message:"实发薪资必须大于等于0",trigger:"blur"}]}),Y=v("month"),I=v([]),oe=v(""),Ae=v([]),J=q({totalPerformance:"0.00000",attendanceDays:0,avgPerformance:"0.00000"}),Se=v();let re=null;const qe=v(!1),L=v(),d=q({id:0,date:"",project:null,process:"",quotaEfficiency:0,actualWorkload:0,performanceManDays:"0.00000"}),Je=q({date:[{required:!0,message:"请选择绩效日期",trigger:"change"}],project:[{required:!0,message:"请选择生产项目",trigger:"change"}],process:[{required:!0,message:"请选择工序",trigger:"change"}],actualWorkload:[{required:!0,message:"请输入实际工作量",trigger:"blur"},{type:"number",min:1,message:"实际工作量必须大于0",trigger:"blur"}]}),_=v([]),W=v([]),ze=v([]),x=q({current:1,pageSize:10,total:0}),b=q({id:0,projectCode:"",projectName:"",uid:0,workQuotaEfficiency:0,inspectQuotaEfficiency:0,status:1}),De=v(),Ge=q({projectCode:[{required:!0,message:"请输入项目编码",trigger:"blur"},{min:1,max:50,message:"项目编码长度不能超过50个字符",trigger:"blur"}],projectName:[{required:!0,message:"请输入项目名称",trigger:"blur"},{min:1,max:100,message:"项目名称长度不能超过100个字符",trigger:"blur"}],workQuotaEfficiency:[{required:!1,message:"请输入作业工序额定效率",trigger:"blur"},{type:"number",min:0,message:"作业工序额定效率必须大于等于0",trigger:"blur"}],inspectQuotaEfficiency:[{required:!1,message:"请输入质检工序额定效率",trigger:"blur"},{type:"number",min:0,message:"质检工序额定效率必须大于等于0",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]}),k=()=>{const t=localStorage.getItem("userInfo");return t?JSON.parse(t):null},fe=async()=>{try{we.value=!0;const t=k();if(!t){i.error("请先登录");return}const e=await Qe(t.id);if(e.code===200&&e.success){const r=e.data;x.total=r.length;const s=(x.current-1)*x.pageSize,p=s+x.pageSize;_.value=r.slice(s,p)}else i.error("获取项目列表失败："+e.message)}catch(t){console.error("获取项目列表失败：",t),i.error("获取项目列表失败")}finally{we.value=!1}},Xe=t=>{ze.value=t,W.value=t.map(e=>e.id)},Ze=()=>{b.id=0,b.projectCode="",b.projectName="",b.status=1,b.workQuotaEfficiency=0,b.inspectQuotaEfficiency=0;const t=k();t&&(b.uid=t.id),me.value=!1,H.value=!0},et=t=>{b.id=t.id,b.projectCode=t.projectCode,b.projectName=t.projectName,b.status=t.status,b.workQuotaEfficiency=t.workQuotaEfficiency||0,b.inspectQuotaEfficiency=t.inspectQuotaEfficiency||0,me.value=!0,H.value=!0},tt=async()=>{if(De.value)try{await De.value.validate();const t=k();if(!t){i.error("请先登录");return}if(me.value){const e=await $t(b,t.id);if(e.code===200&&e.success){const r=_.value.findIndex(s=>s.id===b.id);if(r!==-1){const s=_.value[r];s&&(_.value[r]={...b,uid:s.uid,createdAt:s.createdAt,updatedAt:new Date().toISOString()})}i.success("项目修改成功")}else{let r=e.message;r.includes("Duplicate entry")&&r.includes("project_code")&&(r="项目编码已存在，请使用其他编码"),i.error("项目修改失败："+r)}}else{b.uid=t.id;const e=await _t(b);if(e.code===200&&e.success)await fe(),i.success("项目添加成功");else{let r=e.message;r.includes("Duplicate entry")&&r.includes("project_code")&&(r="项目编码已存在，请使用其他编码"),i.error("项目添加失败："+r)}}H.value=!1}catch(t){console.error("保存项目失败：",t),i.error("保存项目失败")}},at=t=>{ee.confirm("确定要删除这个项目吗？","删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{try{const e=k();if(!e){i.error("请先登录");return}const r=await Bt(t,e.id);r.code===200&&r.success?(_.value=_.value.filter(s=>s.id!==t),x.total--,i.success("项目删除成功")):i.error("项目删除失败："+r.message)}catch(e){console.error("删除项目失败：",e),i.error("删除项目失败")}}).catch(()=>{})},lt=()=>{if(W.value.length===0){i.warning("请选择要删除的项目");return}ee.confirm(`确定要删除选中的 ${W.value.length} 个项目吗？`,"批量删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{try{const t=k();if(!t){i.error("请先登录");return}const e=await It(W.value,t.id);e.code===200&&e.success?(_.value=_.value.filter(r=>!W.value.includes(r.id)),x.total-=W.value.length,W.value=[],ze.value=[],i.success("批量删除成功")):i.error("批量删除失败："+e.message)}catch(t){console.error("批量删除项目失败：",t),i.error("批量删除项目失败")}}).catch(()=>{})},ot=t=>{x.pageSize=t,fe()},rt=t=>{x.current=t,fe()};Me(()=>D.value,t=>{t&&fe()});const Ye=async()=>{try{const t=k();if(!t){i.error("请先登录");return}const e=await Qe(t.id);e.code===200&&e.success?le.value=e.data:i.error("获取生产项目列表失败："+e.message)}catch(t){console.error("获取生产项目列表失败：",t),i.error("获取生产项目列表失败")}},nt=()=>{_e()},_e=()=>{if(d.project&&d.process){const t=le.value.find(e=>e.id===d.project);t&&(d.process==="作业"?d.quotaEfficiency=t.workQuotaEfficiency||0:d.process==="质检"&&(d.quotaEfficiency=t.inspectQuotaEfficiency||0),$e())}},$e=()=>{if(d.quotaEfficiency>0&&d.actualWorkload>0){const t=d.actualWorkload/d.quotaEfficiency;d.performanceManDays=t.toFixed(5)}else d.performanceManDays="0.00000"},st=async()=>{if(L.value)try{await L.value.validate();const t=k();if(!t){i.error("请先登录");return}const e=le.value.find(p=>p.id===d.project);if(!e){i.error("请选择有效的生产项目");return}const r={uid:t.id,date:d.date,project:e.projectName,process:d.process,quotaEfficiency:d.quotaEfficiency,actualWorkload:d.actualWorkload,performanceManDays:parseFloat(d.performanceManDays)},s=await Wt(r);if(s.code===200&&s.success)i.success("工作汇报保存成功"),O.value=!1,await ge(),d.id=0,d.date="",d.project=null,d.process="",d.quotaEfficiency=0,d.actualWorkload=0,d.performanceManDays="0.00000";else{let p=s.message;(p.includes("Duplicate entry")||p.includes("重复"))&&(p="该绩效记录已存在，请检查日期和项目"),i.error("工作汇报保存失败："+p)}}catch(t){console.error("保存工作汇报失败：",t),i.error("保存工作汇报失败")}},ge=async()=>{try{he.value=!0;const t=k();if(!t){i.error("请先登录");return}const e=await Ft(t.id);if(e.code===200&&e.success){const r=e.data;M.total=r.length;const s=(M.current-1)*M.pageSize,p=s+M.pageSize;K.value=r.slice(s,p)}else i.error("获取绩效记录列表失败："+e.message)}catch(t){console.error("获取绩效记录列表失败：",t),i.error("获取绩效记录列表失败")}finally{he.value=!1}},it=t=>{Ue.value=t,F.value=t.map(e=>e.id)},dt=()=>{d.id=0,d.date="",d.project=null,d.process="",d.quotaEfficiency=0,d.actualWorkload=0,d.performanceManDays="0.00000",L.value&&L.value.resetFields(),be.value=!1,O.value=!0},ut=async t=>{L.value&&L.value.resetFields(),be.value=!0,O.value=!0,await Ye(),d.id=t.id,d.date=t.date;const e=le.value.find(r=>r.projectName===t.project);d.project=e?e.id:null,d.process=t.process,d.quotaEfficiency=t.quotaEfficiency,d.actualWorkload=t.actualWorkload,d.performanceManDays=t.performanceManDays.toString()},ct=t=>{ee.confirm("确定要删除这条绩效记录吗？","删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{try{const e=k();if(!e){i.error("请先登录");return}const r=await Te(t,e.id);r.code===200&&r.success?(K.value=K.value.filter(s=>s.id!==t),M.total--,i.success("绩效记录删除成功")):i.error("绩效记录删除失败："+r.message)}catch(e){console.error("删除绩效记录失败：",e),i.error("删除绩效记录失败")}}).catch(()=>{})},pt=()=>{if(F.value.length===0){i.warning("请选择要删除的绩效记录");return}ee.confirm(`确定要删除选中的 ${F.value.length} 条绩效记录吗？`,"批量删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{try{const t=k();if(!t){i.error("请先登录");return}let e=0;for(const r of F.value){const s=await Te(r,t.id);s.code===200&&s.success&&e++}K.value=K.value.filter(r=>!F.value.includes(r.id)),M.total-=e,F.value=[],Ue.value=[],i.success(`批量删除成功，共删除 ${e} 条绩效记录`)}catch(t){console.error("批量删除绩效记录失败：",t),i.error("批量删除绩效记录失败")}}).catch(()=>{})},mt=t=>{M.pageSize=t,ge()},ft=t=>{M.current=t,ge()},ye=async()=>{try{Ve.value=!0;const t=k();if(!t){i.error("请先登录");return}const e=await Tt(t.id);if(e.code===200&&e.success){const r=e.data;R.total=r.length;const s=(R.current-1)*R.pageSize,p=s+R.pageSize;$.value=r.slice(s,p)}else i.error("获取工资记录列表失败："+e.message)}catch(t){console.error("获取工资记录列表失败：",t),i.error("获取工资记录列表失败")}finally{Ve.value=!1}},gt=t=>{Ee.value=t,B.value=t.map(e=>e.id)},Be=()=>{o.performanceSalary=170*.94*o.performance},Ie=()=>{o.overtimeSalary=o.overtimeHours*17},ne=()=>{const t=o.attendanceDays*8*60,e=t-o.lateDeduction,r=t>0?e/t:0,s=o.baseSalary*r,p=o.positionPerformance*r,h=o.mealAllowance*r,V=o.housingAllowance*r;o.totalIncome=s+o.performanceSalary+p+h+V+o.fullAttendance+o.otherBonus+o.overtimeSalary,o.totalDeduction=o.pension+o.medical+o.unemployment,o.netSalary=o.totalIncome-o.totalDeduction},yt=()=>{if(!o.yearMonth)return;const[t,e]=o.yearMonth.split("-");if(!t||!e)return;const r=parseInt(t),s=parseInt(e);let p=r,h=s-1;h===0&&(p--,h=12);const V=`${p}-${String(h).padStart(2,"0")}-26`,S=`${r}-${e}-25`;o.periodStart=V,o.periodEnd=S,Be(),Ie(),ne()},vt=()=>{o.id=0,o.uid="",o.yearMonth="",o.periodStart="",o.periodEnd="",o.attendanceDays=f.attendanceDays,o.baseSalary=f.baseSalary,o.performance=f.performance,o.performanceSalary=0,o.positionPerformance=f.positionPerformance,o.mealAllowance=f.mealAllowance,o.housingAllowance=f.housingAllowance,o.fullAttendance=f.fullAttendance,o.otherBonus=f.otherBonus,o.pension=f.pension,o.medical=f.medical,o.unemployment=f.unemployment,o.lateDeduction=0,o.overtimeHours=0,o.overtimeSalary=0,o.totalIncome=0,o.totalDeduction=0,o.netSalary=0,N.value&&N.value.resetFields(),pe.value=!1,T.value=!0},bt=t=>{N.value&&N.value.resetFields(),o.id=t.id,o.uid=t.uid,o.yearMonth=t.yearMonth,o.periodStart=t.periodStart,o.periodEnd=t.periodEnd,o.attendanceDays=t.attendanceDays,o.baseSalary=t.baseSalary,o.performance=t.performance,o.performanceSalary=t.performanceSalary,o.positionPerformance=t.positionPerformance,o.mealAllowance=t.mealAllowance,o.housingAllowance=t.housingAllowance,o.fullAttendance=t.fullAttendance,o.otherBonus=t.otherBonus,o.pension=t.pension,o.medical=t.medical,o.unemployment=t.unemployment,o.lateDeduction=t.lateDeduction,o.overtimeHours=t.overtimeHours,o.overtimeSalary=t.overtimeSalary,o.totalIncome=t.totalIncome,o.totalDeduction=t.totalDeduction,o.netSalary=t.netSalary,pe.value=!0,T.value=!0},wt=async()=>{if(N.value)try{await N.value.validate();const t=k();if(!t){i.error("请先登录");return}if(o.uid=t.id,pe.value){const e=await Qt(o);if(e.code===200&&e.success){const r=$.value.findIndex(s=>s.id===o.id);r!==-1&&($.value[r]={...o}),i.success("工资记录修改成功")}else i.error("工资记录修改失败："+e.message)}else{const e=await Lt(o);if(e.code===200&&e.success)await ye(),i.success("工资记录添加成功");else{let r=e.message;r.includes("Duplicate entry")&&r.includes("idx_uid_month")&&(r="该月份的工资记录已存在，请修改或删除原记录后重新添加"),i.error("工资记录添加失败："+r)}}T.value=!1}catch(t){console.error("保存工资记录失败：",t),i.error("保存工资记录失败")}},ht=t=>{ee.confirm("确定要删除这条工资记录吗？","删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{try{const e=k();if(!e){i.error("请先登录");return}const r=await Ot(t,e.id);r.code===200&&r.success?($.value=$.value.filter(s=>s.id!==t),R.total--,i.success("工资记录删除成功")):i.error("工资记录删除失败："+r.message)}catch(e){console.error("删除工资记录失败：",e),i.error("删除工资记录失败")}}).catch(()=>{})},Vt=()=>{if(B.value.length===0){i.warning("请选择要删除的工资记录");return}ee.confirm(`确定要删除选中的 ${B.value.length} 条工资记录吗？`,"批量删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{try{const t=k();if(!t){i.error("请先登录");return}const e=await Ht(B.value,t.id);e.code===200&&e.success?($.value=$.value.filter(r=>!B.value.includes(r.id)),R.total-=B.value.length,B.value=[],Ee.value=[],i.success("批量删除成功")):i.error("批量删除失败："+e.message)}catch(t){console.error("批量删除工资记录失败：",t),i.error("批量删除工资记录失败")}}).catch(()=>{})},St=t=>{R.pageSize=t,ye()},Dt=t=>{R.current=t,ye()};Me(()=>A.value,t=>{t&&(Ye(),ge())}),Me(()=>te.value,t=>{t&&ye()});const ke=()=>{const t=new Date,e=t.getFullYear(),r=t.getMonth();let s,p;t.getDate()>=26?(s=new Date(e,r,26),p=new Date(e,r+1,25)):(s=new Date(e,r-1,26),p=new Date(e,r,25));const h=V=>{const S=V.getFullYear(),u=String(V.getMonth()+1).padStart(2,"0"),P=String(V.getDate()).padStart(2,"0");return`${S}-${u}-${P}`};return{startDate:h(s),endDate:h(p)}},kt=()=>{const t=new Date,e=t.getDay()||7,r=new Date(t);r.setDate(t.getDate()-e+1);const s=new Date(r);s.setDate(r.getDate()+6);const p=h=>{const V=h.getFullYear(),S=String(h.getMonth()+1).padStart(2,"0"),u=String(h.getDate()).padStart(2,"0");return`${V}-${S}-${u}`};return{startDate:p(r),endDate:p(s)}},G=async(t,e)=>{try{qe.value=!0;const r=k();if(!r){i.error("请先登录");return}const s=await Nt(r.id,t,e);if(s.code===200&&s.success){const p=s.data,h=p.reduce((U,se)=>U+parseFloat(se.performanceManDays.toString()),0),S=new Set(p.map(U=>U.date)).size,u=h-S,P=S>0?u/S:0;J.totalPerformance=u.toFixed(5),J.attendanceDays=S,J.avgPerformance=P.toFixed(5),jt(p,t,e)}else i.error("获取绩效数据失败："+s.message)}catch(r){console.error("获取绩效数据失败：",r),i.error("获取绩效数据失败")}finally{qe.value=!1}},Ct=()=>{if(Se.value){re=qt(Se.value);const t={tooltip:{trigger:"axis",formatter:function(e){return e[0].name+"<br/>绩效人天："+e[0].value.toFixed(5)}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:[]},yAxis:{type:"value",axisLabel:{formatter:"{value}"}},series:[{name:"绩效人天",type:"line",smooth:!0,data:[],itemStyle:{color:"#667eea"},areaStyle:{color:new zt(0,0,0,1,[{offset:0,color:"rgba(102, 126, 234, 0.5)"},{offset:1,color:"rgba(102, 126, 234, 0.1)"}])}}]};re.setOption(t),window.addEventListener("resize",()=>{re?.resize()})}},jt=(t,e,r)=>{if(!re)return;const s=[],p=new Date(e),h=new Date(r);for(let u=new Date(p);u<=h;u.setDate(u.getDate()+1))s.push(u.toISOString().split("T")[0]);const V=new Map;t.forEach(u=>{const P=u.date,U=parseFloat(u.performanceManDays.toString());V.has(P)?V.set(P,V.get(P)+U):V.set(P,U)});const S=s.map(u=>V.get(u)||0);re.setOption({xAxis:{data:s},yAxis:{type:"value",axisLabel:{formatter:"{value}"},axisLine:{show:!0},splitLine:{show:!0}},series:[{data:S,markLine:{silent:!0,data:[{yAxis:1,label:{formatter:"定额",position:"end"},lineStyle:{color:"#ff4d4f",width:1,type:"dashed"}}]}}]})},Mt=()=>{if(Y.value==="week"){const t=kt();G(t.startDate,t.endDate)}else if(Y.value==="month"){const t=ke();G(t.startDate,t.endDate)}else if(Y.value==="month_select"){Rt();const e=ke().startDate.substring(0,7);oe.value=e,We()}else Y.value==="custom"&&I.value.length===2&&G(I.value[0],I.value[1])},Rt=()=>{const t=[],e=new Date;for(let r=11;r>=0;r--){const s=new Date(e.getFullYear(),e.getMonth()-r,1),p=s.getFullYear(),h=s.getMonth()+1,V=`${p}-${h.toString().padStart(2,"0")}`,S=`${p}年${h}月`;t.push({value:V,label:S})}Ae.value=t},We=()=>{if(!oe.value)return;const[t,e]=oe.value.split("-"),r=Number(t)||0,s=Number(e)||1;let p,h;p=new Date(r,s-1,26),h=new Date(r,s,25);const V=S=>{const u=S.getFullYear(),P=String(S.getMonth()+1).padStart(2,"0"),U=String(S.getDate()).padStart(2,"0");return`${u}-${P}-${U}`};G(V(p),V(h))},xt=()=>{Y.value==="custom"&&I.value.length===2&&G(I.value[0],I.value[1])},Fe=t=>{if(!t)return"";const e=new Date(t),r=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),p=String(e.getDate()).padStart(2,"0");return`${r}-${s}-${p}`};return Ut(()=>{Oe(),Et(()=>{Ct();const t=ke();G(t.startDate,t.endDate)})}),(t,e)=>{const r=C("el-button"),s=C("el-radio"),p=C("el-radio-group"),h=C("el-option"),V=C("el-select"),S=C("el-date-picker"),u=C("el-table-column"),P=C("el-tag"),U=C("el-table"),se=C("el-pagination"),Ce=C("el-input"),c=C("el-form-item"),g=C("el-input-number"),ve=C("el-form"),Q=C("el-dialog"),je=At("loading");return z(),de("div",Kt,[m("div",Jt,[e[72]||(e[72]=m("h2",null,"绩效记录",-1)),m("div",Gt,[a(r,{type:"primary",onClick:e[0]||(e[0]=l=>A.value=!0)},{default:n(()=>[...e[69]||(e[69]=[y(" 工作汇报 ",-1)])]),_:1}),a(r,{type:"primary",onClick:e[1]||(e[1]=l=>te.value=!0)},{default:n(()=>[...e[70]||(e[70]=[y(" 工资记录 ",-1)])]),_:1}),a(r,{type:"primary",onClick:e[2]||(e[2]=l=>D.value=!0)},{default:n(()=>[...e[71]||(e[71]=[y(" 生产项目配置 ",-1)])]),_:1})])]),m("div",Xt,[m("div",Zt,[a(p,{modelValue:Y.value,"onUpdate:modelValue":e[3]||(e[3]=l=>Y.value=l),onChange:Mt},{default:n(()=>[a(s,{label:"week"},{default:n(()=>[...e[73]||(e[73]=[y("本周",-1)])]),_:1}),a(s,{label:"month"},{default:n(()=>[...e[74]||(e[74]=[y("本月",-1)])]),_:1}),a(s,{label:"month_select"},{default:n(()=>[...e[75]||(e[75]=[y("选择月份",-1)])]),_:1}),a(s,{label:"custom"},{default:n(()=>[...e[76]||(e[76]=[y("自定义",-1)])]),_:1})]),_:1},8,["modelValue"]),Y.value==="month_select"?(z(),de("div",ea,[a(V,{modelValue:oe.value,"onUpdate:modelValue":e[4]||(e[4]=l=>oe.value=l),placeholder:"请选择月份",style:{width:"200px"},onChange:We},{default:n(()=>[(z(!0),de(Ne,null,Le(Ae.value,l=>(z(),ce(h,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])):ue("",!0),Y.value==="custom"?(z(),de("div",ta,[a(S,{modelValue:I.value,"onUpdate:modelValue":e[5]||(e[5]=l=>I.value=l),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",style:{width:"100%"},format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",onChange:xt},null,8,["modelValue"])])):ue("",!0)]),m("div",aa,[m("div",la,[e[77]||(e[77]=m("div",{class:"performance-label"},"当月绩效总和",-1)),m("div",oa,X(J.totalPerformance),1),e[78]||(e[78]=m("div",{class:"performance-desc"},"绩效人天合计",-1))]),m("div",ra,[e[79]||(e[79]=m("div",{class:"performance-label"},"当月考勤天数",-1)),m("div",na,X(J.attendanceDays),1),e[80]||(e[80]=m("div",{class:"performance-desc"},"当月出勤天数",-1))]),m("div",sa,[e[81]||(e[81]=m("div",{class:"performance-label"},"日均绩效",-1)),m("div",ia,X(J.avgPerformance),1),e[82]||(e[82]=m("div",{class:"performance-desc"},"平均绩效人天",-1))])]),m("div",da,[e[83]||(e[83]=m("h3",null,"绩效趋势",-1)),m("div",{id:"performanceChart",ref_key:"performanceChartRef",ref:Se,class:"chart"},null,512)])]),a(Q,{modelValue:D.value,"onUpdate:modelValue":e[15]||(e[15]=l=>D.value=l),title:"生产项目配置",width:"90%","max-width":"1200px"},{default:n(()=>[m("div",ua,[a(r,{type:"primary",onClick:Ze},{icon:n(()=>[a(E(Re))]),default:n(()=>[e[84]||(e[84]=y(" 添加项目 ",-1))]),_:1}),a(r,{type:"danger",disabled:W.value.length===0,onClick:lt},{icon:n(()=>[a(E(Z))]),default:n(()=>[e[85]||(e[85]=y(" 批量删除 ",-1))]),_:1},8,["disabled"])]),xe((z(),ce(U,{data:_.value,style:{width:"100%"},onSelectionChange:Xe},{default:n(()=>[a(u,{type:"selection","min-width":"55"}),ue("",!0),a(u,{prop:"projectCode",label:"项目编码","min-width":"120"}),a(u,{prop:"projectName",label:"项目名称","min-width":"150"}),a(u,{prop:"workQuotaEfficiency",label:"作业工序额定效率","min-width":"140"}),a(u,{prop:"inspectQuotaEfficiency",label:"质检工序额定效率","min-width":"140"}),a(u,{prop:"status",label:"状态","min-width":"80"},{default:n(l=>[a(P,{type:l.row.status===1?"success":"danger"},{default:n(()=>[y(X(l.row.status===1?"启用":"停用"),1)]),_:2},1032,["type"])]),_:1}),a(u,{label:"操作","min-width":"180"},{default:n(l=>[a(r,{type:"primary",size:"small",onClick:ie=>et(l.row)},{icon:n(()=>[a(E(Pe))]),default:n(()=>[e[86]||(e[86]=y(" 修改 ",-1))]),_:1},8,["onClick"]),a(r,{type:"danger",size:"small",onClick:ie=>at(l.row.id)},{icon:n(()=>[a(E(Z))]),default:n(()=>[e[87]||(e[87]=y(" 删除 ",-1))]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[je,we.value]]),m("div",ca,[a(se,{"current-page":x.current,"onUpdate:currentPage":e[6]||(e[6]=l=>x.current=l),"page-size":x.pageSize,"onUpdate:pageSize":e[7]||(e[7]=l=>x.pageSize=l),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:x.total,onSizeChange:ot,onCurrentChange:rt},null,8,["current-page","page-size","total"])]),a(Q,{modelValue:H.value,"onUpdate:modelValue":e[14]||(e[14]=l=>H.value=l),title:me.value?"修改项目":"添加项目",width:"500px"},{footer:n(()=>[m("span",pa,[a(r,{onClick:e[13]||(e[13]=l=>H.value=!1)},{default:n(()=>[...e[90]||(e[90]=[y("取消",-1)])]),_:1}),a(r,{type:"primary",onClick:tt},{default:n(()=>[...e[91]||(e[91]=[y("确定",-1)])]),_:1})])]),default:n(()=>[a(ve,{ref_key:"projectFormRef",ref:De,model:b,rules:Ge,"label-width":"150px"},{default:n(()=>[a(c,{label:"项目编码",prop:"projectCode"},{default:n(()=>[a(Ce,{modelValue:b.projectCode,"onUpdate:modelValue":e[8]||(e[8]=l=>b.projectCode=l),placeholder:"请输入项目编码"},null,8,["modelValue"])]),_:1}),a(c,{label:"项目名称",prop:"projectName"},{default:n(()=>[a(Ce,{modelValue:b.projectName,"onUpdate:modelValue":e[9]||(e[9]=l=>b.projectName=l),placeholder:"请输入项目名称"},null,8,["modelValue"])]),_:1}),a(c,{label:"作业工序额定效率",prop:"workQuotaEfficiency"},{default:n(()=>[a(g,{modelValue:b.workQuotaEfficiency,"onUpdate:modelValue":e[10]||(e[10]=l=>b.workQuotaEfficiency=l),min:0,placeholder:"请输入作业工序额定效率"},null,8,["modelValue"])]),_:1}),a(c,{label:"质检工序额定效率",prop:"inspectQuotaEfficiency"},{default:n(()=>[a(g,{modelValue:b.inspectQuotaEfficiency,"onUpdate:modelValue":e[11]||(e[11]=l=>b.inspectQuotaEfficiency=l),min:0,placeholder:"请输入质检工序额定效率"},null,8,["modelValue"])]),_:1}),a(c,{label:"状态",prop:"status"},{default:n(()=>[a(p,{modelValue:b.status,"onUpdate:modelValue":e[12]||(e[12]=l=>b.status=l)},{default:n(()=>[a(s,{label:1},{default:n(()=>[...e[88]||(e[88]=[y("启用",-1)])]),_:1}),a(s,{label:0},{default:n(()=>[...e[89]||(e[89]=[y("停用",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])]),_:1},8,["modelValue"]),a(Q,{modelValue:A.value,"onUpdate:modelValue":e[26]||(e[26]=l=>A.value=l),title:"工作汇报",width:"90%","max-width":"1000px"},{default:n(()=>[m("div",ma,[a(r,{type:"primary",onClick:dt},{icon:n(()=>[a(E(Re))]),default:n(()=>[e[92]||(e[92]=y(" 添加绩效记录 ",-1))]),_:1}),a(r,{type:"danger",disabled:F.value.length===0,onClick:pt},{icon:n(()=>[a(E(Z))]),default:n(()=>[e[93]||(e[93]=y(" 批量删除 ",-1))]),_:1},8,["disabled"])]),xe((z(),ce(U,{data:K.value,style:{width:"100%"},onSelectionChange:it},{default:n(()=>[a(u,{type:"selection",width:"55"}),ue("",!0),a(u,{prop:"date",label:"绩效日期","min-width":"120"}),a(u,{prop:"project",label:"生产项目","min-width":"150"}),a(u,{prop:"process",label:"工序","min-width":"80"}),a(u,{prop:"quotaEfficiency",label:"额定效率","min-width":"100"}),a(u,{prop:"actualWorkload",label:"实际工作量","min-width":"120"}),a(u,{prop:"performanceManDays",label:"绩效人天合计","min-width":"140"}),a(u,{label:"操作","min-width":"150"},{default:n(l=>[a(r,{type:"primary",size:"small",onClick:ie=>ut(l.row)},{icon:n(()=>[a(E(Pe))]),default:n(()=>[e[94]||(e[94]=y(" 修改 ",-1))]),_:1},8,["onClick"]),a(r,{type:"danger",size:"small",onClick:ie=>ct(l.row.id)},{icon:n(()=>[a(E(Z))]),default:n(()=>[e[95]||(e[95]=y(" 删除 ",-1))]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[je,he.value]]),m("div",fa,[a(se,{"current-page":M.current,"onUpdate:currentPage":e[16]||(e[16]=l=>M.current=l),"page-size":M.pageSize,"onUpdate:pageSize":e[17]||(e[17]=l=>M.pageSize=l),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:M.total,onSizeChange:mt,onCurrentChange:ft},null,8,["current-page","page-size","total"])]),a(Q,{modelValue:O.value,"onUpdate:modelValue":e[25]||(e[25]=l=>O.value=l),title:be.value?"修改绩效记录":"添加绩效记录",width:"600px"},{footer:n(()=>[m("span",ga,[a(r,{onClick:e[24]||(e[24]=l=>O.value=!1)},{default:n(()=>[...e[96]||(e[96]=[y("取消",-1)])]),_:1}),a(r,{type:"primary",onClick:st},{default:n(()=>[...e[97]||(e[97]=[y("保存",-1)])]),_:1})])]),default:n(()=>[a(ve,{ref_key:"workReportFormRef",ref:L,model:d,rules:Je,"label-width":"120px"},{default:n(()=>[a(c,{label:"绩效日期",prop:"date"},{default:n(()=>[a(S,{modelValue:d.date,"onUpdate:modelValue":e[18]||(e[18]=l=>d.date=l),type:"date",placeholder:"请选择绩效日期",style:{width:"100%"},format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",required:""},null,8,["modelValue"])]),_:1}),a(c,{label:"生产项目",prop:"project"},{default:n(()=>[a(V,{modelValue:d.project,"onUpdate:modelValue":e[19]||(e[19]=l=>d.project=l),placeholder:"请选择生产项目",style:{width:"100%"},required:"",onChange:nt},{default:n(()=>[(z(!0),de(Ne,null,Le(le.value,l=>(z(),ce(h,{key:l.id,label:l.projectName,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(c,{label:"工序",prop:"process"},{default:n(()=>[a(V,{modelValue:d.process,"onUpdate:modelValue":e[20]||(e[20]=l=>d.process=l),placeholder:"请选择工序",style:{width:"100%"},required:"",onChange:_e},{default:n(()=>[a(h,{label:"作业",value:"作业"}),a(h,{label:"质检",value:"质检"})]),_:1},8,["modelValue"])]),_:1}),a(c,{label:"额定效率",prop:"quotaEfficiency"},{default:n(()=>[a(g,{modelValue:d.quotaEfficiency,"onUpdate:modelValue":e[21]||(e[21]=l=>d.quotaEfficiency=l),min:1,placeholder:"额定效率",style:{width:"100%"},disabled:!0},null,8,["modelValue"])]),_:1}),a(c,{label:"实际工作量",prop:"actualWorkload"},{default:n(()=>[a(g,{modelValue:d.actualWorkload,"onUpdate:modelValue":e[22]||(e[22]=l=>d.actualWorkload=l),min:1,placeholder:"请输入实际工作量",style:{width:"100%"},onChange:$e},null,8,["modelValue"])]),_:1}),a(c,{label:"绩效人天合计",prop:"performanceManDays"},{default:n(()=>[a(Ce,{modelValue:d.performanceManDays,"onUpdate:modelValue":e[23]||(e[23]=l=>d.performanceManDays=l),placeholder:"绩效人天合计",style:{width:"100%"},disabled:!0},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])]),_:1},8,["modelValue"]),a(Q,{modelValue:te.value,"onUpdate:modelValue":e[68]||(e[68]=l=>te.value=l),title:"工资记录",width:"90%","max-width":"1200px"},{default:n(()=>[m("div",ya,[a(r,{type:"primary",onClick:vt},{icon:n(()=>[a(E(Re))]),default:n(()=>[e[98]||(e[98]=y(" 添加工资记录 ",-1))]),_:1}),a(r,{type:"danger",disabled:B.value.length===0,onClick:Vt},{icon:n(()=>[a(E(Z))]),default:n(()=>[e[99]||(e[99]=y(" 批量删除 ",-1))]),_:1},8,["disabled"])]),xe((z(),ce(U,{data:$.value,style:{width:"100%"},onSelectionChange:gt},{default:n(()=>[a(u,{type:"selection",width:"55"}),ue("",!0),a(u,{prop:"yearMonth",label:"年月","min-width":"100"}),a(u,{prop:"periodStart",label:"周期开始","min-width":"120"},{default:n(l=>[y(X(Fe(l.row.periodStart)),1)]),_:1}),a(u,{prop:"periodEnd",label:"周期结束","min-width":"120"},{default:n(l=>[y(X(Fe(l.row.periodEnd)),1)]),_:1}),a(u,{prop:"attendanceDays",label:"出勤天数","min-width":"100"}),a(u,{prop:"baseSalary",label:"基本薪资","min-width":"120"}),a(u,{prop:"performance",label:"绩效系数","min-width":"100"}),a(u,{prop:"performanceSalary",label:"绩效薪资","min-width":"120"}),a(u,{prop:"totalIncome",label:"应发总额","min-width":"120"}),a(u,{prop:"totalDeduction",label:"扣除总额","min-width":"120"}),a(u,{prop:"netSalary",label:"实发薪资","min-width":"120"}),a(u,{label:"操作","min-width":"150"},{default:n(l=>[a(r,{type:"primary",size:"small",onClick:ie=>bt(l.row)},{icon:n(()=>[a(E(Pe))]),default:n(()=>[e[100]||(e[100]=y(" 修改 ",-1))]),_:1},8,["onClick"]),a(r,{type:"danger",size:"small",onClick:ie=>ht(l.row.id)},{icon:n(()=>[a(E(Z))]),default:n(()=>[e[101]||(e[101]=y(" 删除 ",-1))]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[je,Ve.value]]),m("div",va,[a(se,{"current-page":R.current,"onUpdate:currentPage":e[27]||(e[27]=l=>R.current=l),"page-size":R.pageSize,"onUpdate:pageSize":e[28]||(e[28]=l=>R.pageSize=l),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:R.total,onSizeChange:St,onCurrentChange:Dt},null,8,["current-page","page-size","total"])]),a(Q,{modelValue:T.value,"onUpdate:modelValue":e[54]||(e[54]=l=>T.value=l),title:pe.value?"修改工资记录":"添加工资记录",width:"800px"},{footer:n(()=>[m("span",Va,[a(r,{onClick:e[52]||(e[52]=l=>ae.value=!0)},{default:n(()=>[...e[102]||(e[102]=[y("默认配置",-1)])]),_:1}),a(r,{onClick:e[53]||(e[53]=l=>T.value=!1)},{default:n(()=>[...e[103]||(e[103]=[y("取消",-1)])]),_:1}),a(r,{type:"primary",onClick:wt},{default:n(()=>[...e[104]||(e[104]=[y("保存",-1)])]),_:1})])]),default:n(()=>[a(ve,{ref_key:"salaryRecordFormRef",ref:N,model:o,rules:Ke,"label-width":"120px"},{default:n(()=>[m("div",ba,[m("div",wa,[a(c,{label:"年月",prop:"yearMonth"},{default:n(()=>[a(S,{modelValue:o.yearMonth,"onUpdate:modelValue":e[29]||(e[29]=l=>o.yearMonth=l),type:"month",placeholder:"请选择年月",style:{width:"100%"},format:"YYYY-MM","value-format":"YYYY-MM",required:"",onChange:yt},null,8,["modelValue"])]),_:1}),a(c,{label:"周期开始日期",prop:"periodStart"},{default:n(()=>[a(S,{modelValue:o.periodStart,"onUpdate:modelValue":e[30]||(e[30]=l=>o.periodStart=l),type:"date",placeholder:"请选择周期开始日期",style:{width:"100%"},format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",required:"",disabled:""},null,8,["modelValue"])]),_:1}),a(c,{label:"周期结束日期",prop:"periodEnd"},{default:n(()=>[a(S,{modelValue:o.periodEnd,"onUpdate:modelValue":e[31]||(e[31]=l=>o.periodEnd=l),type:"date",placeholder:"请选择周期结束日期",style:{width:"100%"},format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",required:"",disabled:""},null,8,["modelValue"])]),_:1}),a(c,{label:"出勤天数",prop:"attendanceDays"},{default:n(()=>[a(g,{modelValue:o.attendanceDays,"onUpdate:modelValue":e[32]||(e[32]=l=>o.attendanceDays=l),min:0,placeholder:"请输入出勤天数",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(c,{label:"基本薪资",prop:"baseSalary"},{default:n(()=>[a(g,{modelValue:o.baseSalary,"onUpdate:modelValue":e[33]||(e[33]=l=>o.baseSalary=l),min:0,step:.01,placeholder:"请输入基本薪资",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(c,{label:"绩效系数/评分",prop:"performance"},{default:n(()=>[a(g,{modelValue:o.performance,"onUpdate:modelValue":e[34]||(e[34]=l=>o.performance=l),min:0,step:.01,placeholder:"请输入绩效系数/评分",style:{width:"100%"},onChange:e[35]||(e[35]=()=>{Be(),ne()})},null,8,["modelValue"])]),_:1}),a(c,{label:"绩效薪资",prop:"performanceSalary"},{default:n(()=>[a(g,{modelValue:o.performanceSalary,"onUpdate:modelValue":e[36]||(e[36]=l=>o.performanceSalary=l),min:0,step:.01,placeholder:"请输入绩效薪资",style:{width:"100%"},disabled:""},null,8,["modelValue"])]),_:1}),a(c,{label:"岗位绩效",prop:"positionPerformance"},{default:n(()=>[a(g,{modelValue:o.positionPerformance,"onUpdate:modelValue":e[37]||(e[37]=l=>o.positionPerformance=l),min:0,step:.01,placeholder:"请输入岗位绩效",style:{width:"100%"},onChange:ne},null,8,["modelValue"])]),_:1}),a(c,{label:"餐补",prop:"mealAllowance"},{default:n(()=>[a(g,{modelValue:o.mealAllowance,"onUpdate:modelValue":e[38]||(e[38]=l=>o.mealAllowance=l),min:0,step:.01,placeholder:"请输入餐补",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(c,{label:"房补",prop:"housingAllowance"},{default:n(()=>[a(g,{modelValue:o.housingAllowance,"onUpdate:modelValue":e[39]||(e[39]=l=>o.housingAllowance=l),min:0,step:.01,placeholder:"请输入房补",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(c,{label:"全勤奖",prop:"fullAttendance"},{default:n(()=>[a(g,{modelValue:o.fullAttendance,"onUpdate:modelValue":e[40]||(e[40]=l=>o.fullAttendance=l),min:0,step:.01,placeholder:"请输入全勤奖",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),m("div",ha,[a(c,{label:"其他奖金",prop:"otherBonus"},{default:n(()=>[a(g,{modelValue:o.otherBonus,"onUpdate:modelValue":e[41]||(e[41]=l=>o.otherBonus=l),min:0,step:.01,placeholder:"请输入其他奖金",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(c,{label:"养老保险",prop:"pension"},{default:n(()=>[a(g,{modelValue:o.pension,"onUpdate:modelValue":e[42]||(e[42]=l=>o.pension=l),min:0,step:.01,placeholder:"请输入养老保险",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(c,{label:"医疗保险",prop:"medical"},{default:n(()=>[a(g,{modelValue:o.medical,"onUpdate:modelValue":e[43]||(e[43]=l=>o.medical=l),min:0,step:.01,placeholder:"请输入医疗保险",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(c,{label:"失业保险",prop:"unemployment"},{default:n(()=>[a(g,{modelValue:o.unemployment,"onUpdate:modelValue":e[44]||(e[44]=l=>o.unemployment=l),min:0,step:.01,placeholder:"请输入失业保险",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(c,{label:"迟到分钟",prop:"lateDeduction"},{default:n(()=>[a(g,{modelValue:o.lateDeduction,"onUpdate:modelValue":e[45]||(e[45]=l=>o.lateDeduction=l),min:0,step:1,placeholder:"请输入迟到分钟",style:{width:"100%"},onChange:ne},null,8,["modelValue"])]),_:1}),a(c,{label:"加班时长(小时)",prop:"overtimeHours"},{default:n(()=>[a(g,{modelValue:o.overtimeHours,"onUpdate:modelValue":e[46]||(e[46]=l=>o.overtimeHours=l),min:0,step:.5,placeholder:"请输入加班时长",style:{width:"100%"},onChange:e[47]||(e[47]=()=>{Ie(),ne()})},null,8,["modelValue"])]),_:1}),a(c,{label:"加班薪资",prop:"overtimeSalary"},{default:n(()=>[a(g,{modelValue:o.overtimeSalary,"onUpdate:modelValue":e[48]||(e[48]=l=>o.overtimeSalary=l),min:0,step:.01,placeholder:"请输入加班薪资",style:{width:"100%"},disabled:""},null,8,["modelValue"])]),_:1}),a(c,{label:"应发总额",prop:"totalIncome"},{default:n(()=>[a(g,{modelValue:o.totalIncome,"onUpdate:modelValue":e[49]||(e[49]=l=>o.totalIncome=l),min:0,step:.01,placeholder:"请输入应发总额",style:{width:"100%"},disabled:""},null,8,["modelValue"])]),_:1}),a(c,{label:"扣除总额",prop:"totalDeduction"},{default:n(()=>[a(g,{modelValue:o.totalDeduction,"onUpdate:modelValue":e[50]||(e[50]=l=>o.totalDeduction=l),min:0,step:.01,placeholder:"请输入扣除总额",style:{width:"100%"},disabled:""},null,8,["modelValue"])]),_:1}),a(c,{label:"实发薪资",prop:"netSalary"},{default:n(()=>[a(g,{modelValue:o.netSalary,"onUpdate:modelValue":e[51]||(e[51]=l=>o.netSalary=l),min:0,step:.01,placeholder:"请输入实发薪资",style:{width:"100%"},disabled:""},null,8,["modelValue"])]),_:1})])])]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"]),a(Q,{modelValue:ae.value,"onUpdate:modelValue":e[67]||(e[67]=l=>ae.value=l),title:"薪资记录默认配置",width:"600px"},{footer:n(()=>[m("span",Ca,[a(r,{onClick:e[66]||(e[66]=l=>ae.value=!1)},{default:n(()=>[...e[105]||(e[105]=[y("取消",-1)])]),_:1}),a(r,{type:"primary",onClick:He},{default:n(()=>[...e[106]||(e[106]=[y("保存",-1)])]),_:1})])]),default:n(()=>[a(ve,{model:f,"label-width":"120px"},{default:n(()=>[m("div",Sa,[m("div",Da,[a(c,{label:"出勤天数"},{default:n(()=>[a(g,{modelValue:f.attendanceDays,"onUpdate:modelValue":e[55]||(e[55]=l=>f.attendanceDays=l),min:0,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(c,{label:"基本薪资"},{default:n(()=>[a(g,{modelValue:f.baseSalary,"onUpdate:modelValue":e[56]||(e[56]=l=>f.baseSalary=l),min:0,step:.01,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(c,{label:"绩效系数/评分"},{default:n(()=>[a(g,{modelValue:f.performance,"onUpdate:modelValue":e[57]||(e[57]=l=>f.performance=l),min:0,step:.01,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(c,{label:"岗位绩效"},{default:n(()=>[a(g,{modelValue:f.positionPerformance,"onUpdate:modelValue":e[58]||(e[58]=l=>f.positionPerformance=l),min:0,step:.01,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(c,{label:"餐补"},{default:n(()=>[a(g,{modelValue:f.mealAllowance,"onUpdate:modelValue":e[59]||(e[59]=l=>f.mealAllowance=l),min:0,step:.01,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),m("div",ka,[a(c,{label:"房补"},{default:n(()=>[a(g,{modelValue:f.housingAllowance,"onUpdate:modelValue":e[60]||(e[60]=l=>f.housingAllowance=l),min:0,step:.01,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(c,{label:"全勤奖"},{default:n(()=>[a(g,{modelValue:f.fullAttendance,"onUpdate:modelValue":e[61]||(e[61]=l=>f.fullAttendance=l),min:0,step:.01,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(c,{label:"其他奖金"},{default:n(()=>[a(g,{modelValue:f.otherBonus,"onUpdate:modelValue":e[62]||(e[62]=l=>f.otherBonus=l),min:0,step:.01,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(c,{label:"养老保险"},{default:n(()=>[a(g,{modelValue:f.pension,"onUpdate:modelValue":e[63]||(e[63]=l=>f.pension=l),min:0,step:.01,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(c,{label:"医疗保险"},{default:n(()=>[a(g,{modelValue:f.medical,"onUpdate:modelValue":e[64]||(e[64]=l=>f.medical=l),min:0,step:.01,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(c,{label:"失业保险"},{default:n(()=>[a(g,{modelValue:f.unemployment,"onUpdate:modelValue":e[65]||(e[65]=l=>f.unemployment=l),min:0,step:.01,style:{width:"100%"}},null,8,["modelValue"])]),_:1})])])]),_:1},8,["model"])]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])])}}}),Ea=Yt(ja,[["__scopeId","data-v-a552686e"]]);export{Ea as default};
