import{d as xt,S as Me,k as Ut,W as Et,c as ie,a as c,b as a,w as r,C as de,D as X,h as y,i as U,E as s,r as C,o as Y,g,H as Ie,I as Ne,z as ue,e as P,N as Re,M as Z,K as Pe,O as xe,P as ee,L as At}from"./index-kZV-SjDn.js";import{s as j}from"./request-BYh0DQqL.js";import{i as qt,L as Yt}from"./index-5QPu3XI4.js";import{_ as _t}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-B9ygI19o.js";const Le=async b=>await j({url:"/api/project/list",method:"get",params:{uid:b}}),zt=async b=>await j({url:"/api/project/add",method:"post",data:b}),$t=async(b,S)=>await j({url:"/api/project/update",method:"put",params:{uid:S},data:b}),Bt=async(b,S)=>await j({url:`/api/project/${b}`,method:"delete",params:{uid:S}}),Wt=async(b,S)=>await j({url:"/api/project/batchDelete",method:"delete",data:{ids:b,uid:S}}),Ft=async b=>await j({url:"/api/performance/add",method:"post",data:b}),It=async(b,S)=>await j({url:"/api/performance/list",method:"get",params:{uid:b,date:S}}),Nt=async(b,S,x)=>await j({url:"/api/performance/range",method:"get",params:{uid:b,startDate:S,endDate:x}}),Qe=async(b,S)=>await j({url:`/api/performance/${b}`,method:"delete",params:{uid:S}}),Lt=async b=>j({url:"/api/salary/add",method:"post",data:b}),Qt=async b=>j({url:"/api/salary/update",method:"put",data:b}),Tt=async b=>j({url:"/api/salary/list",method:"get",params:{uid:b}}),Ot=async(b,S)=>j({url:`/api/salary/${b}`,method:"delete",params:{uid:S}}),Ht=async(b,S)=>j({url:"/api/salary/batch",method:"delete",data:{ids:b,uid:S}}),Kt={class:"data-statistics"},Jt={class:"top-bar"},Gt={class:"button-group"},Xt={class:"content-area"},Zt={class:"time-range-selector"},ea={key:0,class:"month-select-range"},ta={key:1,class:"custom-date-range"},aa={class:"performance-summary"},la={class:"performance-card"},oa={class:"performance-value"},ra={class:"performance-card"},na={class:"performance-value"},sa={class:"performance-card"},ia={class:"performance-value"},da={class:"chart-container"},ua={class:"table-actions"},pa={class:"pagination"},ca={class:"dialog-footer"},ma={class:"table-actions"},fa={class:"pagination"},ga={class:"dialog-footer"},ya={class:"table-actions"},va={class:"pagination"},ba={class:"form-row"},wa={class:"form-col"},ha={class:"form-col"},Va={class:"dialog-footer"},Da={class:"form-row"},Sa={class:"form-col"},ka={class:"form-col"},Ca={class:"dialog-footer"},ja=xt({__name:"DataStatistics",setup(b){const S=y(!1),x=y(!1),te=y(!1),T=y(!1),pe=y(!1),ae=y(!1),m=U({attendanceDays:25,baseSalary:2e3,performance:0,positionPerformance:500,mealAllowance:200,housingAllowance:300,fullAttendance:300,otherBonus:100,pension:360.32,medical:90.08,unemployment:13.51}),Te=()=>{try{const t=k();if(!t)return;const e=localStorage.getItem(`salary_default_config_${t.id}`);if(e){const n=JSON.parse(e);Object.assign(m,n)}}catch(t){console.error("加载默认配置失败：",t)}},Oe=()=>{try{const t=k();if(!t){s.error("请先登录");return}localStorage.setItem(`salary_default_config_${t.id}`,JSON.stringify(m)),s.success("默认配置保存成功"),ae.value=!1}catch(t){console.error("保存默认配置失败：",t),s.error("保存默认配置失败")}},O=y(!1),ve=y(!1),H=y(!1),ce=y(!1),be=y(!1),we=y(!1),he=y([]),K=y([]),I=y([]),Ue=y([]),E=U({current:1,pageSize:10,total:0}),$=y([]),B=y([]),Ee=y([]),Ve=y(!1),A=U({current:1,pageSize:10,total:0}),N=y(),o=U({id:0,uid:"",yearMonth:"",periodStart:"",periodEnd:"",attendanceDays:0,baseSalary:0,performance:0,performanceSalary:0,positionPerformance:0,mealAllowance:0,housingAllowance:0,fullAttendance:0,otherBonus:0,pension:0,medical:0,unemployment:0,lateDeduction:0,overtimeHours:0,overtimeSalary:0,totalIncome:0,totalDeduction:0,netSalary:0}),He=U({yearMonth:[{required:!0,message:"请选择年月",trigger:"change"}],periodStart:[{required:!0,message:"请选择周期开始日期",trigger:"change"}],periodEnd:[{required:!0,message:"请选择周期结束日期",trigger:"change"}],attendanceDays:[{required:!0,message:"请输入出勤天数",trigger:"blur"},{type:"number",min:0,message:"出勤天数必须大于等于0",trigger:"blur"}],baseSalary:[{required:!0,message:"请输入基本薪资",trigger:"blur"},{type:"number",min:0,message:"基本薪资必须大于等于0",trigger:"blur"}],performance:[{required:!0,message:"请输入绩效系数/评分",trigger:"blur"},{type:"number",min:0,message:"绩效系数必须大于等于0",trigger:"blur"}],performanceSalary:[{required:!0,message:"请输入绩效薪资",trigger:"blur"},{type:"number",min:0,message:"绩效薪资必须大于等于0",trigger:"blur"}],positionPerformance:[{required:!0,message:"请输入岗位绩效",trigger:"blur"},{type:"number",min:0,message:"岗位绩效必须大于等于0",trigger:"blur"}],mealAllowance:[{required:!0,message:"请输入餐补",trigger:"blur"},{type:"number",min:0,message:"餐补必须大于等于0",trigger:"blur"}],housingAllowance:[{required:!0,message:"请输入房补",trigger:"blur"},{type:"number",min:0,message:"房补必须大于等于0",trigger:"blur"}],fullAttendance:[{required:!0,message:"请输入全勤奖",trigger:"blur"},{type:"number",min:0,message:"全勤奖必须大于等于0",trigger:"blur"}],otherBonus:[{required:!0,message:"请输入其他奖金",trigger:"blur"},{type:"number",min:0,message:"其他奖金必须大于等于0",trigger:"blur"}],pension:[{required:!0,message:"请输入养老保险",trigger:"blur"},{type:"number",min:0,message:"养老保险必须大于等于0",trigger:"blur"}],medical:[{required:!0,message:"请输入医疗保险",trigger:"blur"},{type:"number",min:0,message:"医疗保险必须大于等于0",trigger:"blur"}],unemployment:[{required:!0,message:"请输入失业保险",trigger:"blur"},{type:"number",min:0,message:"失业保险必须大于等于0",trigger:"blur"}],lateDeduction:[{type:"number",min:0,message:"迟到分钟必须大于等于0",trigger:"blur"}],overtimeHours:[{type:"number",min:0,message:"加班时长必须大于等于0",trigger:"blur"}],overtimeSalary:[{type:"number",min:0,message:"加班薪资必须大于等于0",trigger:"blur"}],totalIncome:[{required:!0,message:"请输入应发总额",trigger:"blur"},{type:"number",min:0,message:"应发总额必须大于等于0",trigger:"blur"}],totalDeduction:[{required:!0,message:"请输入扣除总额",trigger:"blur"},{type:"number",min:0,message:"扣除总额必须大于等于0",trigger:"blur"}],netSalary:[{required:!0,message:"请输入实发薪资",trigger:"blur"},{type:"number",min:0,message:"实发薪资必须大于等于0",trigger:"blur"}]}),_=y("month"),W=y([]),le=y(""),Ae=y([]),J=U({totalPerformance:"0.00000",attendanceDays:0,avgPerformance:"0.00000"}),De=y();let oe=null;const qe=y(!1),L=y(),d=U({id:0,date:"",project:null,process:"",quotaEfficiency:0,actualWorkload:0,performanceManDays:"0.00000"}),Ke=U({date:[{required:!0,message:"请选择绩效日期",trigger:"change"}],project:[{required:!0,message:"请选择生产项目",trigger:"change"}],process:[{required:!0,message:"请选择工序",trigger:"change"}],actualWorkload:[{required:!0,message:"请输入实际工作量",trigger:"blur"},{type:"number",min:1,message:"实际工作量必须大于0",trigger:"blur"}]}),z=y([]),F=y([]),Ye=y([]),q=U({current:1,pageSize:10,total:0}),v=U({id:0,projectCode:"",projectName:"",uid:0,workQuotaEfficiency:0,inspectQuotaEfficiency:0,status:1}),Se=y(),Je=U({projectCode:[{required:!0,message:"请输入项目编码",trigger:"blur"},{min:1,max:50,message:"项目编码长度不能超过50个字符",trigger:"blur"}],projectName:[{required:!0,message:"请输入项目名称",trigger:"blur"},{min:1,max:100,message:"项目名称长度不能超过100个字符",trigger:"blur"}],workQuotaEfficiency:[{required:!1,message:"请输入作业工序额定效率",trigger:"blur"},{type:"number",min:0,message:"作业工序额定效率必须大于等于0",trigger:"blur"}],inspectQuotaEfficiency:[{required:!1,message:"请输入质检工序额定效率",trigger:"blur"},{type:"number",min:0,message:"质检工序额定效率必须大于等于0",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]}),k=()=>{const t=localStorage.getItem("userInfo");return t?JSON.parse(t):null},me=async()=>{try{be.value=!0;const t=k();if(!t){s.error("请先登录");return}const e=await Le(t.id);e.code===200&&e.success?(z.value=e.data,q.total=e.data.length):s.error("获取项目列表失败："+e.message)}catch(t){console.error("获取项目列表失败：",t),s.error("获取项目列表失败")}finally{be.value=!1}},Ge=t=>{Ye.value=t,F.value=t.map(e=>e.id)},Xe=()=>{v.id=0,v.projectCode="",v.projectName="",v.status=1,v.workQuotaEfficiency=0,v.inspectQuotaEfficiency=0;const t=k();t&&(v.uid=t.id),ce.value=!1,H.value=!0},Ze=t=>{v.id=t.id,v.projectCode=t.projectCode,v.projectName=t.projectName,v.status=t.status,v.workQuotaEfficiency=t.workQuotaEfficiency||0,v.inspectQuotaEfficiency=t.inspectQuotaEfficiency||0,ce.value=!0,H.value=!0},et=async()=>{if(Se.value)try{await Se.value.validate();const t=k();if(!t){s.error("请先登录");return}if(ce.value){const e=await $t(v,t.id);if(e.code===200&&e.success){const n=z.value.findIndex(i=>i.id===v.id);if(n!==-1){const i=z.value[n];i&&(z.value[n]={...v,uid:i.uid,createdAt:i.createdAt,updatedAt:new Date().toISOString()})}s.success("项目修改成功")}else{let n=e.message;n.includes("Duplicate entry")&&n.includes("project_code")&&(n="项目编码已存在，请使用其他编码"),s.error("项目修改失败："+n)}}else{v.uid=t.id;const e=await zt(v);if(e.code===200&&e.success)await me(),s.success("项目添加成功");else{let n=e.message;n.includes("Duplicate entry")&&n.includes("project_code")&&(n="项目编码已存在，请使用其他编码"),s.error("项目添加失败："+n)}}H.value=!1}catch(t){console.error("保存项目失败：",t),s.error("保存项目失败")}},tt=t=>{ee.confirm("确定要删除这个项目吗？","删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{try{const e=k();if(!e){s.error("请先登录");return}const n=await Bt(t,e.id);n.code===200&&n.success?(z.value=z.value.filter(i=>i.id!==t),q.total--,s.success("项目删除成功")):s.error("项目删除失败："+n.message)}catch(e){console.error("删除项目失败：",e),s.error("删除项目失败")}}).catch(()=>{})},at=()=>{if(F.value.length===0){s.warning("请选择要删除的项目");return}ee.confirm(`确定要删除选中的 ${F.value.length} 个项目吗？`,"批量删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{try{const t=k();if(!t){s.error("请先登录");return}const e=await Wt(F.value,t.id);e.code===200&&e.success?(z.value=z.value.filter(n=>!F.value.includes(n.id)),q.total-=F.value.length,F.value=[],Ye.value=[],s.success("批量删除成功")):s.error("批量删除失败："+e.message)}catch(t){console.error("批量删除项目失败：",t),s.error("批量删除项目失败")}}).catch(()=>{})},lt=t=>{q.pageSize=t,me()},ot=t=>{q.current=t,me()};Me(()=>S.value,t=>{t&&me()});const rt=async()=>{try{const t=k();if(!t){s.error("请先登录");return}const e=await Le(t.id);e.code===200&&e.success?he.value=e.data:s.error("获取生产项目列表失败："+e.message)}catch(t){console.error("获取生产项目列表失败：",t),s.error("获取生产项目列表失败")}},nt=()=>{_e()},_e=()=>{d.project&&d.process&&(d.process==="作业"?d.quotaEfficiency=d.project.workQuotaEfficiency||0:d.process==="质检"&&(d.quotaEfficiency=d.project.inspectQuotaEfficiency||0),ze())},ze=()=>{if(d.quotaEfficiency>0&&d.actualWorkload>0){const t=d.actualWorkload/d.quotaEfficiency;d.performanceManDays=t.toFixed(5)}else d.performanceManDays="0.00000"},st=async()=>{if(L.value)try{await L.value.validate();const t=k();if(!t){s.error("请先登录");return}const e={uid:t.id,date:d.date,project:d.project.projectName,process:d.process,quotaEfficiency:d.quotaEfficiency,actualWorkload:d.actualWorkload,performanceManDays:parseFloat(d.performanceManDays)},n=await Ft(e);if(n.code===200&&n.success)s.success("工作汇报保存成功"),O.value=!1,await fe(),d.id=0,d.date="",d.project=null,d.process="",d.quotaEfficiency=0,d.actualWorkload=0,d.performanceManDays="0.00000";else{let i=n.message;(i.includes("Duplicate entry")||i.includes("重复"))&&(i="该绩效记录已存在，请检查日期和项目"),s.error("工作汇报保存失败："+i)}}catch(t){console.error("保存工作汇报失败：",t),s.error("保存工作汇报失败")}},fe=async()=>{try{we.value=!0;const t=k();if(!t){s.error("请先登录");return}const e=await It(t.id);e.code===200&&e.success?(K.value=e.data,E.total=e.data.length):s.error("获取绩效记录列表失败："+e.message)}catch(t){console.error("获取绩效记录列表失败：",t),s.error("获取绩效记录列表失败")}finally{we.value=!1}},it=t=>{Ue.value=t,I.value=t.map(e=>e.id)},dt=()=>{d.id=0,d.date="",d.project=null,d.process="",d.quotaEfficiency=0,d.actualWorkload=0,d.performanceManDays="0.00000",L.value&&L.value.resetFields(),ve.value=!1,O.value=!0},ut=t=>{L.value&&L.value.resetFields(),d.id=t.id,d.date=t.date;const e=he.value.find(n=>n.projectName===t.project);d.project=e,d.process=t.process,d.quotaEfficiency=t.quotaEfficiency,d.actualWorkload=t.actualWorkload,d.performanceManDays=t.performanceManDays.toString(),ve.value=!0,O.value=!0},pt=t=>{ee.confirm("确定要删除这条绩效记录吗？","删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{try{const e=k();if(!e){s.error("请先登录");return}const n=await Qe(t,e.id);n.code===200&&n.success?(K.value=K.value.filter(i=>i.id!==t),E.total--,s.success("绩效记录删除成功")):s.error("绩效记录删除失败："+n.message)}catch(e){console.error("删除绩效记录失败：",e),s.error("删除绩效记录失败")}}).catch(()=>{})},ct=()=>{if(I.value.length===0){s.warning("请选择要删除的绩效记录");return}ee.confirm(`确定要删除选中的 ${I.value.length} 条绩效记录吗？`,"批量删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{try{const t=k();if(!t){s.error("请先登录");return}let e=0;for(const n of I.value){const i=await Qe(n,t.id);i.code===200&&i.success&&e++}K.value=K.value.filter(n=>!I.value.includes(n.id)),E.total-=e,I.value=[],Ue.value=[],s.success(`批量删除成功，共删除 ${e} 条绩效记录`)}catch(t){console.error("批量删除绩效记录失败：",t),s.error("批量删除绩效记录失败")}}).catch(()=>{})},mt=t=>{E.pageSize=t,fe()},ft=t=>{E.current=t,fe()},ge=async()=>{try{Ve.value=!0;const t=k();if(!t){s.error("请先登录");return}const e=await Tt(t.id);e.code===200&&e.success?($.value=e.data,A.total=e.data.length):s.error("获取工资记录列表失败："+e.message)}catch(t){console.error("获取工资记录列表失败：",t),s.error("获取工资记录列表失败")}finally{Ve.value=!1}},gt=t=>{Ee.value=t,B.value=t.map(e=>e.id)},$e=()=>{o.performanceSalary=170*.94*o.performance},Be=()=>{o.overtimeSalary=o.overtimeHours*17},re=()=>{const t=o.attendanceDays*8*60,e=t-o.lateDeduction,n=t>0?e/t:0,i=o.baseSalary*n,w=o.positionPerformance*n,h=o.mealAllowance*n,V=o.housingAllowance*n;o.totalIncome=i+o.performanceSalary+w+h+V+o.fullAttendance+o.otherBonus+o.overtimeSalary,o.totalDeduction=o.pension+o.medical+o.unemployment,o.netSalary=o.totalIncome-o.totalDeduction},yt=()=>{if(!o.yearMonth)return;const[t,e]=o.yearMonth.split("-");if(!t||!e)return;const n=parseInt(t),i=parseInt(e);let w=n,h=i-1;h===0&&(w--,h=12);const V=`${w}-${String(h).padStart(2,"0")}-26`,D=`${n}-${e}-25`;o.periodStart=V,o.periodEnd=D,$e(),Be(),re()},vt=()=>{o.id=0,o.uid="",o.yearMonth="",o.periodStart="",o.periodEnd="",o.attendanceDays=m.attendanceDays,o.baseSalary=m.baseSalary,o.performance=m.performance,o.performanceSalary=0,o.positionPerformance=m.positionPerformance,o.mealAllowance=m.mealAllowance,o.housingAllowance=m.housingAllowance,o.fullAttendance=m.fullAttendance,o.otherBonus=m.otherBonus,o.pension=m.pension,o.medical=m.medical,o.unemployment=m.unemployment,o.lateDeduction=0,o.overtimeHours=0,o.overtimeSalary=0,o.totalIncome=0,o.totalDeduction=0,o.netSalary=0,N.value&&N.value.resetFields(),pe.value=!1,T.value=!0},bt=t=>{N.value&&N.value.resetFields(),o.id=t.id,o.uid=t.uid,o.yearMonth=t.yearMonth,o.periodStart=t.periodStart,o.periodEnd=t.periodEnd,o.attendanceDays=t.attendanceDays,o.baseSalary=t.baseSalary,o.performance=t.performance,o.performanceSalary=t.performanceSalary,o.positionPerformance=t.positionPerformance,o.mealAllowance=t.mealAllowance,o.housingAllowance=t.housingAllowance,o.fullAttendance=t.fullAttendance,o.otherBonus=t.otherBonus,o.pension=t.pension,o.medical=t.medical,o.unemployment=t.unemployment,o.lateDeduction=t.lateDeduction,o.overtimeHours=t.overtimeHours,o.overtimeSalary=t.overtimeSalary,o.totalIncome=t.totalIncome,o.totalDeduction=t.totalDeduction,o.netSalary=t.netSalary,pe.value=!0,T.value=!0},wt=async()=>{if(N.value)try{await N.value.validate();const t=k();if(!t){s.error("请先登录");return}if(o.uid=t.id,pe.value){const e=await Qt(o);if(e.code===200&&e.success){const n=$.value.findIndex(i=>i.id===o.id);n!==-1&&($.value[n]={...o}),s.success("工资记录修改成功")}else s.error("工资记录修改失败："+e.message)}else{const e=await Lt(o);if(e.code===200&&e.success)await ge(),s.success("工资记录添加成功");else{let n=e.message;n.includes("Duplicate entry")&&n.includes("idx_uid_month")&&(n="该月份的工资记录已存在，请修改或删除原记录后重新添加"),s.error("工资记录添加失败："+n)}}T.value=!1}catch(t){console.error("保存工资记录失败：",t),s.error("保存工资记录失败")}},ht=t=>{ee.confirm("确定要删除这条工资记录吗？","删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{try{const e=k();if(!e){s.error("请先登录");return}const n=await Ot(t,e.id);n.code===200&&n.success?($.value=$.value.filter(i=>i.id!==t),A.total--,s.success("工资记录删除成功")):s.error("工资记录删除失败："+n.message)}catch(e){console.error("删除工资记录失败：",e),s.error("删除工资记录失败")}}).catch(()=>{})},Vt=()=>{if(B.value.length===0){s.warning("请选择要删除的工资记录");return}ee.confirm(`确定要删除选中的 ${B.value.length} 条工资记录吗？`,"批量删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{try{const t=k();if(!t){s.error("请先登录");return}const e=await Ht(B.value,t.id);e.code===200&&e.success?($.value=$.value.filter(n=>!B.value.includes(n.id)),A.total-=B.value.length,B.value=[],Ee.value=[],s.success("批量删除成功")):s.error("批量删除失败："+e.message)}catch(t){console.error("批量删除工资记录失败：",t),s.error("批量删除工资记录失败")}}).catch(()=>{})},Dt=t=>{A.pageSize=t,ge()},St=t=>{A.current=t,ge()};Me(()=>x.value,t=>{t&&(rt(),fe())}),Me(()=>te.value,t=>{t&&ge()});const ke=()=>{const t=new Date,e=t.getFullYear(),n=t.getMonth();let i,w;t.getDate()>=26?(i=new Date(e,n,26),w=new Date(e,n+1,25)):(i=new Date(e,n-1,26),w=new Date(e,n,25));const h=V=>{const D=V.getFullYear(),u=String(V.getMonth()+1).padStart(2,"0"),M=String(V.getDate()).padStart(2,"0");return`${D}-${u}-${M}`};return{startDate:h(i),endDate:h(w)}},kt=()=>{const t=new Date,e=t.getDay()||7,n=new Date(t);n.setDate(t.getDate()-e+1);const i=new Date(n);i.setDate(n.getDate()+6);const w=h=>{const V=h.getFullYear(),D=String(h.getMonth()+1).padStart(2,"0"),u=String(h.getDate()).padStart(2,"0");return`${V}-${D}-${u}`};return{startDate:w(n),endDate:w(i)}},G=async(t,e)=>{try{qe.value=!0;const n=k();if(!n){s.error("请先登录");return}const i=await Nt(n.id,t,e);if(i.code===200&&i.success){const w=i.data,h=w.reduce((R,ne)=>R+parseFloat(ne.performanceManDays.toString()),0),D=new Set(w.map(R=>R.date)).size,u=h-D,M=D>0?u/D:0;J.totalPerformance=u.toFixed(5),J.attendanceDays=D,J.avgPerformance=M.toFixed(5),jt(w,t,e)}else s.error("获取绩效数据失败："+i.message)}catch(n){console.error("获取绩效数据失败：",n),s.error("获取绩效数据失败")}finally{qe.value=!1}},Ct=()=>{if(De.value){oe=qt(De.value);const t={tooltip:{trigger:"axis",formatter:function(e){return e[0].name+"<br/>绩效人天："+e[0].value.toFixed(5)}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:[]},yAxis:{type:"value",axisLabel:{formatter:"{value}"}},series:[{name:"绩效人天",type:"line",smooth:!0,data:[],itemStyle:{color:"#667eea"},areaStyle:{color:new Yt(0,0,0,1,[{offset:0,color:"rgba(102, 126, 234, 0.5)"},{offset:1,color:"rgba(102, 126, 234, 0.1)"}])}}]};oe.setOption(t),window.addEventListener("resize",()=>{oe?.resize()})}},jt=(t,e,n)=>{if(!oe)return;const i=[],w=new Date(e),h=new Date(n);for(let u=new Date(w);u<=h;u.setDate(u.getDate()+1))i.push(u.toISOString().split("T")[0]);const V=new Map;t.forEach(u=>{const M=u.date,R=parseFloat(u.performanceManDays.toString());V.has(M)?V.set(M,V.get(M)+R):V.set(M,R)});const D=i.map(u=>V.get(u)||0);oe.setOption({xAxis:{data:i},yAxis:{type:"value",axisLabel:{formatter:"{value}"},axisLine:{show:!0},splitLine:{show:!0}},series:[{data:D,markLine:{silent:!0,data:[{yAxis:1,label:{formatter:"定额",position:"end"},lineStyle:{color:"#ff4d4f",width:1,type:"dashed"}}]}}]})},Mt=()=>{if(_.value==="week"){const t=kt();G(t.startDate,t.endDate)}else if(_.value==="month"){const t=ke();G(t.startDate,t.endDate)}else if(_.value==="month_select"){Rt();const e=ke().startDate.substring(0,7);le.value=e,We()}else _.value==="custom"&&W.value.length===2&&G(W.value[0],W.value[1])},Rt=()=>{const t=[],e=new Date;for(let n=11;n>=0;n--){const i=new Date(e.getFullYear(),e.getMonth()-n,1),w=i.getFullYear(),h=i.getMonth()+1,V=`${w}-${h.toString().padStart(2,"0")}`,D=`${w}年${h}月`;t.push({value:V,label:D})}Ae.value=t},We=()=>{if(!le.value)return;const[t,e]=le.value.split("-"),n=Number(t)||0,i=Number(e)||1;let w,h;w=new Date(n,i-1,26),h=new Date(n,i,25);const V=D=>{const u=D.getFullYear(),M=String(D.getMonth()+1).padStart(2,"0"),R=String(D.getDate()).padStart(2,"0");return`${u}-${M}-${R}`};G(V(w),V(h))},Pt=()=>{_.value==="custom"&&W.value.length===2&&G(W.value[0],W.value[1])},Fe=t=>{if(!t)return"";const e=new Date(t),n=e.getFullYear(),i=String(e.getMonth()+1).padStart(2,"0"),w=String(e.getDate()).padStart(2,"0");return`${n}-${i}-${w}`};return Ut(()=>{Te(),Et(()=>{Ct();const t=ke();G(t.startDate,t.endDate)})}),(t,e)=>{const n=C("el-button"),i=C("el-radio"),w=C("el-radio-group"),h=C("el-option"),V=C("el-select"),D=C("el-date-picker"),u=C("el-table-column"),M=C("el-tag"),R=C("el-table"),ne=C("el-pagination"),Ce=C("el-input"),p=C("el-form-item"),f=C("el-input-number"),ye=C("el-form"),Q=C("el-dialog"),je=At("loading");return Y(),ie("div",Kt,[c("div",Jt,[e[72]||(e[72]=c("h2",null,"绩效记录",-1)),c("div",Gt,[a(n,{type:"primary",onClick:e[0]||(e[0]=l=>x.value=!0)},{default:r(()=>[...e[69]||(e[69]=[g(" 工作汇报 ",-1)])]),_:1}),a(n,{type:"primary",onClick:e[1]||(e[1]=l=>te.value=!0)},{default:r(()=>[...e[70]||(e[70]=[g(" 工资记录 ",-1)])]),_:1}),a(n,{type:"primary",onClick:e[2]||(e[2]=l=>S.value=!0)},{default:r(()=>[...e[71]||(e[71]=[g(" 生产项目配置 ",-1)])]),_:1})])]),c("div",Xt,[c("div",Zt,[a(w,{modelValue:_.value,"onUpdate:modelValue":e[3]||(e[3]=l=>_.value=l),onChange:Mt},{default:r(()=>[a(i,{label:"week"},{default:r(()=>[...e[73]||(e[73]=[g("本周",-1)])]),_:1}),a(i,{label:"month"},{default:r(()=>[...e[74]||(e[74]=[g("本月",-1)])]),_:1}),a(i,{label:"month_select"},{default:r(()=>[...e[75]||(e[75]=[g("选择月份",-1)])]),_:1}),a(i,{label:"custom"},{default:r(()=>[...e[76]||(e[76]=[g("自定义",-1)])]),_:1})]),_:1},8,["modelValue"]),_.value==="month_select"?(Y(),ie("div",ea,[a(V,{modelValue:le.value,"onUpdate:modelValue":e[4]||(e[4]=l=>le.value=l),placeholder:"请选择月份",style:{width:"200px"},onChange:We},{default:r(()=>[(Y(!0),ie(Ie,null,Ne(Ae.value,l=>(Y(),ue(h,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])):de("",!0),_.value==="custom"?(Y(),ie("div",ta,[a(D,{modelValue:W.value,"onUpdate:modelValue":e[5]||(e[5]=l=>W.value=l),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",style:{width:"100%"},format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",onChange:Pt},null,8,["modelValue"])])):de("",!0)]),c("div",aa,[c("div",la,[e[77]||(e[77]=c("div",{class:"performance-label"},"当月绩效总和",-1)),c("div",oa,X(J.totalPerformance),1),e[78]||(e[78]=c("div",{class:"performance-desc"},"绩效人天合计",-1))]),c("div",ra,[e[79]||(e[79]=c("div",{class:"performance-label"},"当月考勤天数",-1)),c("div",na,X(J.attendanceDays),1),e[80]||(e[80]=c("div",{class:"performance-desc"},"当月出勤天数",-1))]),c("div",sa,[e[81]||(e[81]=c("div",{class:"performance-label"},"日均绩效",-1)),c("div",ia,X(J.avgPerformance),1),e[82]||(e[82]=c("div",{class:"performance-desc"},"平均绩效人天",-1))])]),c("div",da,[e[83]||(e[83]=c("h3",null,"绩效趋势",-1)),c("div",{id:"performanceChart",ref_key:"performanceChartRef",ref:De,class:"chart"},null,512)])]),a(Q,{modelValue:S.value,"onUpdate:modelValue":e[15]||(e[15]=l=>S.value=l),title:"生产项目配置",width:"90%","max-width":"1200px"},{default:r(()=>[c("div",ua,[a(n,{type:"primary",onClick:Xe},{icon:r(()=>[a(P(Re))]),default:r(()=>[e[84]||(e[84]=g(" 添加项目 ",-1))]),_:1}),a(n,{type:"danger",disabled:F.value.length===0,onClick:at},{icon:r(()=>[a(P(Z))]),default:r(()=>[e[85]||(e[85]=g(" 批量删除 ",-1))]),_:1},8,["disabled"])]),Pe((Y(),ue(R,{data:z.value,style:{width:"100%"},onSelectionChange:Ge},{default:r(()=>[a(u,{type:"selection","min-width":"55"}),de("",!0),a(u,{prop:"projectCode",label:"项目编码","min-width":"120"}),a(u,{prop:"projectName",label:"项目名称","min-width":"150"}),a(u,{prop:"workQuotaEfficiency",label:"作业工序额定效率","min-width":"140"}),a(u,{prop:"inspectQuotaEfficiency",label:"质检工序额定效率","min-width":"140"}),a(u,{prop:"status",label:"状态","min-width":"80"},{default:r(l=>[a(M,{type:l.row.status===1?"success":"danger"},{default:r(()=>[g(X(l.row.status===1?"启用":"停用"),1)]),_:2},1032,["type"])]),_:1}),a(u,{label:"操作","min-width":"180"},{default:r(l=>[a(n,{type:"primary",size:"small",onClick:se=>Ze(l.row)},{icon:r(()=>[a(P(xe))]),default:r(()=>[e[86]||(e[86]=g(" 修改 ",-1))]),_:1},8,["onClick"]),a(n,{type:"danger",size:"small",onClick:se=>tt(l.row.id)},{icon:r(()=>[a(P(Z))]),default:r(()=>[e[87]||(e[87]=g(" 删除 ",-1))]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[je,be.value]]),c("div",pa,[a(ne,{"current-page":q.current,"onUpdate:currentPage":e[6]||(e[6]=l=>q.current=l),"page-size":q.pageSize,"onUpdate:pageSize":e[7]||(e[7]=l=>q.pageSize=l),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:q.total,onSizeChange:lt,onCurrentChange:ot},null,8,["current-page","page-size","total"])]),a(Q,{modelValue:H.value,"onUpdate:modelValue":e[14]||(e[14]=l=>H.value=l),title:ce.value?"修改项目":"添加项目",width:"500px"},{footer:r(()=>[c("span",ca,[a(n,{onClick:e[13]||(e[13]=l=>H.value=!1)},{default:r(()=>[...e[90]||(e[90]=[g("取消",-1)])]),_:1}),a(n,{type:"primary",onClick:et},{default:r(()=>[...e[91]||(e[91]=[g("确定",-1)])]),_:1})])]),default:r(()=>[a(ye,{ref_key:"projectFormRef",ref:Se,model:v,rules:Je,"label-width":"150px"},{default:r(()=>[a(p,{label:"项目编码",prop:"projectCode"},{default:r(()=>[a(Ce,{modelValue:v.projectCode,"onUpdate:modelValue":e[8]||(e[8]=l=>v.projectCode=l),placeholder:"请输入项目编码"},null,8,["modelValue"])]),_:1}),a(p,{label:"项目名称",prop:"projectName"},{default:r(()=>[a(Ce,{modelValue:v.projectName,"onUpdate:modelValue":e[9]||(e[9]=l=>v.projectName=l),placeholder:"请输入项目名称"},null,8,["modelValue"])]),_:1}),a(p,{label:"作业工序额定效率",prop:"workQuotaEfficiency"},{default:r(()=>[a(f,{modelValue:v.workQuotaEfficiency,"onUpdate:modelValue":e[10]||(e[10]=l=>v.workQuotaEfficiency=l),min:0,placeholder:"请输入作业工序额定效率"},null,8,["modelValue"])]),_:1}),a(p,{label:"质检工序额定效率",prop:"inspectQuotaEfficiency"},{default:r(()=>[a(f,{modelValue:v.inspectQuotaEfficiency,"onUpdate:modelValue":e[11]||(e[11]=l=>v.inspectQuotaEfficiency=l),min:0,placeholder:"请输入质检工序额定效率"},null,8,["modelValue"])]),_:1}),a(p,{label:"状态",prop:"status"},{default:r(()=>[a(w,{modelValue:v.status,"onUpdate:modelValue":e[12]||(e[12]=l=>v.status=l)},{default:r(()=>[a(i,{label:1},{default:r(()=>[...e[88]||(e[88]=[g("启用",-1)])]),_:1}),a(i,{label:0},{default:r(()=>[...e[89]||(e[89]=[g("停用",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])]),_:1},8,["modelValue"]),a(Q,{modelValue:x.value,"onUpdate:modelValue":e[26]||(e[26]=l=>x.value=l),title:"工作汇报",width:"90%","max-width":"1000px"},{default:r(()=>[c("div",ma,[a(n,{type:"primary",onClick:dt},{icon:r(()=>[a(P(Re))]),default:r(()=>[e[92]||(e[92]=g(" 添加绩效记录 ",-1))]),_:1}),a(n,{type:"danger",disabled:I.value.length===0,onClick:ct},{icon:r(()=>[a(P(Z))]),default:r(()=>[e[93]||(e[93]=g(" 批量删除 ",-1))]),_:1},8,["disabled"])]),Pe((Y(),ue(R,{data:K.value,style:{width:"100%"},onSelectionChange:it},{default:r(()=>[a(u,{type:"selection",width:"55"}),de("",!0),a(u,{prop:"date",label:"绩效日期","min-width":"120"}),a(u,{prop:"project",label:"生产项目","min-width":"150"}),a(u,{prop:"process",label:"工序","min-width":"80"}),a(u,{prop:"quotaEfficiency",label:"额定效率","min-width":"100"}),a(u,{prop:"actualWorkload",label:"实际工作量","min-width":"120"}),a(u,{prop:"performanceManDays",label:"绩效人天合计","min-width":"140"}),a(u,{label:"操作","min-width":"150"},{default:r(l=>[a(n,{type:"primary",size:"small",onClick:se=>ut(l.row)},{icon:r(()=>[a(P(xe))]),default:r(()=>[e[94]||(e[94]=g(" 修改 ",-1))]),_:1},8,["onClick"]),a(n,{type:"danger",size:"small",onClick:se=>pt(l.row.id)},{icon:r(()=>[a(P(Z))]),default:r(()=>[e[95]||(e[95]=g(" 删除 ",-1))]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[je,we.value]]),c("div",fa,[a(ne,{"current-page":E.current,"onUpdate:currentPage":e[16]||(e[16]=l=>E.current=l),"page-size":E.pageSize,"onUpdate:pageSize":e[17]||(e[17]=l=>E.pageSize=l),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:E.total,onSizeChange:mt,onCurrentChange:ft},null,8,["current-page","page-size","total"])]),a(Q,{modelValue:O.value,"onUpdate:modelValue":e[25]||(e[25]=l=>O.value=l),title:ve.value?"修改绩效记录":"添加绩效记录",width:"600px"},{footer:r(()=>[c("span",ga,[a(n,{onClick:e[24]||(e[24]=l=>O.value=!1)},{default:r(()=>[...e[96]||(e[96]=[g("取消",-1)])]),_:1}),a(n,{type:"primary",onClick:st},{default:r(()=>[...e[97]||(e[97]=[g("保存",-1)])]),_:1})])]),default:r(()=>[a(ye,{ref_key:"workReportFormRef",ref:L,model:d,rules:Ke,"label-width":"120px"},{default:r(()=>[a(p,{label:"绩效日期",prop:"date"},{default:r(()=>[a(D,{modelValue:d.date,"onUpdate:modelValue":e[18]||(e[18]=l=>d.date=l),type:"date",placeholder:"请选择绩效日期",style:{width:"100%"},format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",required:""},null,8,["modelValue"])]),_:1}),a(p,{label:"生产项目",prop:"project"},{default:r(()=>[a(V,{modelValue:d.project,"onUpdate:modelValue":e[19]||(e[19]=l=>d.project=l),placeholder:"请选择生产项目",style:{width:"100%"},required:"",onChange:nt},{default:r(()=>[(Y(!0),ie(Ie,null,Ne(he.value,l=>(Y(),ue(h,{key:l.id,label:l.projectName,value:l},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(p,{label:"工序",prop:"process"},{default:r(()=>[a(V,{modelValue:d.process,"onUpdate:modelValue":e[20]||(e[20]=l=>d.process=l),placeholder:"请选择工序",style:{width:"100%"},required:"",onChange:_e},{default:r(()=>[a(h,{label:"作业",value:"作业"}),a(h,{label:"质检",value:"质检"})]),_:1},8,["modelValue"])]),_:1}),a(p,{label:"额定效率",prop:"quotaEfficiency"},{default:r(()=>[a(f,{modelValue:d.quotaEfficiency,"onUpdate:modelValue":e[21]||(e[21]=l=>d.quotaEfficiency=l),min:1,placeholder:"额定效率",style:{width:"100%"},disabled:!0},null,8,["modelValue"])]),_:1}),a(p,{label:"实际工作量",prop:"actualWorkload"},{default:r(()=>[a(f,{modelValue:d.actualWorkload,"onUpdate:modelValue":e[22]||(e[22]=l=>d.actualWorkload=l),min:1,placeholder:"请输入实际工作量",style:{width:"100%"},onChange:ze},null,8,["modelValue"])]),_:1}),a(p,{label:"绩效人天合计",prop:"performanceManDays"},{default:r(()=>[a(Ce,{modelValue:d.performanceManDays,"onUpdate:modelValue":e[23]||(e[23]=l=>d.performanceManDays=l),placeholder:"绩效人天合计",style:{width:"100%"},disabled:!0},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])]),_:1},8,["modelValue"]),a(Q,{modelValue:te.value,"onUpdate:modelValue":e[68]||(e[68]=l=>te.value=l),title:"工资记录",width:"90%","max-width":"1200px"},{default:r(()=>[c("div",ya,[a(n,{type:"primary",onClick:vt},{icon:r(()=>[a(P(Re))]),default:r(()=>[e[98]||(e[98]=g(" 添加工资记录 ",-1))]),_:1}),a(n,{type:"danger",disabled:B.value.length===0,onClick:Vt},{icon:r(()=>[a(P(Z))]),default:r(()=>[e[99]||(e[99]=g(" 批量删除 ",-1))]),_:1},8,["disabled"])]),Pe((Y(),ue(R,{data:$.value,style:{width:"100%"},onSelectionChange:gt},{default:r(()=>[a(u,{type:"selection",width:"55"}),de("",!0),a(u,{prop:"yearMonth",label:"年月","min-width":"100"}),a(u,{prop:"periodStart",label:"周期开始","min-width":"120"},{default:r(l=>[g(X(Fe(l.row.periodStart)),1)]),_:1}),a(u,{prop:"periodEnd",label:"周期结束","min-width":"120"},{default:r(l=>[g(X(Fe(l.row.periodEnd)),1)]),_:1}),a(u,{prop:"attendanceDays",label:"出勤天数","min-width":"100"}),a(u,{prop:"baseSalary",label:"基本薪资","min-width":"120"}),a(u,{prop:"performance",label:"绩效系数","min-width":"100"}),a(u,{prop:"performanceSalary",label:"绩效薪资","min-width":"120"}),a(u,{prop:"totalIncome",label:"应发总额","min-width":"120"}),a(u,{prop:"totalDeduction",label:"扣除总额","min-width":"120"}),a(u,{prop:"netSalary",label:"实发薪资","min-width":"120"}),a(u,{label:"操作","min-width":"150"},{default:r(l=>[a(n,{type:"primary",size:"small",onClick:se=>bt(l.row)},{icon:r(()=>[a(P(xe))]),default:r(()=>[e[100]||(e[100]=g(" 修改 ",-1))]),_:1},8,["onClick"]),a(n,{type:"danger",size:"small",onClick:se=>ht(l.row.id)},{icon:r(()=>[a(P(Z))]),default:r(()=>[e[101]||(e[101]=g(" 删除 ",-1))]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[je,Ve.value]]),c("div",va,[a(ne,{"current-page":A.current,"onUpdate:currentPage":e[27]||(e[27]=l=>A.current=l),"page-size":A.pageSize,"onUpdate:pageSize":e[28]||(e[28]=l=>A.pageSize=l),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:A.total,onSizeChange:Dt,onCurrentChange:St},null,8,["current-page","page-size","total"])]),a(Q,{modelValue:T.value,"onUpdate:modelValue":e[54]||(e[54]=l=>T.value=l),title:pe.value?"修改工资记录":"添加工资记录",width:"800px"},{footer:r(()=>[c("span",Va,[a(n,{onClick:e[52]||(e[52]=l=>ae.value=!0)},{default:r(()=>[...e[102]||(e[102]=[g("默认配置",-1)])]),_:1}),a(n,{onClick:e[53]||(e[53]=l=>T.value=!1)},{default:r(()=>[...e[103]||(e[103]=[g("取消",-1)])]),_:1}),a(n,{type:"primary",onClick:wt},{default:r(()=>[...e[104]||(e[104]=[g("保存",-1)])]),_:1})])]),default:r(()=>[a(ye,{ref_key:"salaryRecordFormRef",ref:N,model:o,rules:He,"label-width":"120px"},{default:r(()=>[c("div",ba,[c("div",wa,[a(p,{label:"年月",prop:"yearMonth"},{default:r(()=>[a(D,{modelValue:o.yearMonth,"onUpdate:modelValue":e[29]||(e[29]=l=>o.yearMonth=l),type:"month",placeholder:"请选择年月",style:{width:"100%"},format:"YYYY-MM","value-format":"YYYY-MM",required:"",onChange:yt},null,8,["modelValue"])]),_:1}),a(p,{label:"周期开始日期",prop:"periodStart"},{default:r(()=>[a(D,{modelValue:o.periodStart,"onUpdate:modelValue":e[30]||(e[30]=l=>o.periodStart=l),type:"date",placeholder:"请选择周期开始日期",style:{width:"100%"},format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",required:"",disabled:""},null,8,["modelValue"])]),_:1}),a(p,{label:"周期结束日期",prop:"periodEnd"},{default:r(()=>[a(D,{modelValue:o.periodEnd,"onUpdate:modelValue":e[31]||(e[31]=l=>o.periodEnd=l),type:"date",placeholder:"请选择周期结束日期",style:{width:"100%"},format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",required:"",disabled:""},null,8,["modelValue"])]),_:1}),a(p,{label:"出勤天数",prop:"attendanceDays"},{default:r(()=>[a(f,{modelValue:o.attendanceDays,"onUpdate:modelValue":e[32]||(e[32]=l=>o.attendanceDays=l),min:0,placeholder:"请输入出勤天数",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(p,{label:"基本薪资",prop:"baseSalary"},{default:r(()=>[a(f,{modelValue:o.baseSalary,"onUpdate:modelValue":e[33]||(e[33]=l=>o.baseSalary=l),min:0,step:.01,placeholder:"请输入基本薪资",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(p,{label:"绩效系数/评分",prop:"performance"},{default:r(()=>[a(f,{modelValue:o.performance,"onUpdate:modelValue":e[34]||(e[34]=l=>o.performance=l),min:0,step:.01,placeholder:"请输入绩效系数/评分",style:{width:"100%"},onChange:e[35]||(e[35]=()=>{$e(),re()})},null,8,["modelValue"])]),_:1}),a(p,{label:"绩效薪资",prop:"performanceSalary"},{default:r(()=>[a(f,{modelValue:o.performanceSalary,"onUpdate:modelValue":e[36]||(e[36]=l=>o.performanceSalary=l),min:0,step:.01,placeholder:"请输入绩效薪资",style:{width:"100%"},disabled:""},null,8,["modelValue"])]),_:1}),a(p,{label:"岗位绩效",prop:"positionPerformance"},{default:r(()=>[a(f,{modelValue:o.positionPerformance,"onUpdate:modelValue":e[37]||(e[37]=l=>o.positionPerformance=l),min:0,step:.01,placeholder:"请输入岗位绩效",style:{width:"100%"},onChange:re},null,8,["modelValue"])]),_:1}),a(p,{label:"餐补",prop:"mealAllowance"},{default:r(()=>[a(f,{modelValue:o.mealAllowance,"onUpdate:modelValue":e[38]||(e[38]=l=>o.mealAllowance=l),min:0,step:.01,placeholder:"请输入餐补",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(p,{label:"房补",prop:"housingAllowance"},{default:r(()=>[a(f,{modelValue:o.housingAllowance,"onUpdate:modelValue":e[39]||(e[39]=l=>o.housingAllowance=l),min:0,step:.01,placeholder:"请输入房补",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(p,{label:"全勤奖",prop:"fullAttendance"},{default:r(()=>[a(f,{modelValue:o.fullAttendance,"onUpdate:modelValue":e[40]||(e[40]=l=>o.fullAttendance=l),min:0,step:.01,placeholder:"请输入全勤奖",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),c("div",ha,[a(p,{label:"其他奖金",prop:"otherBonus"},{default:r(()=>[a(f,{modelValue:o.otherBonus,"onUpdate:modelValue":e[41]||(e[41]=l=>o.otherBonus=l),min:0,step:.01,placeholder:"请输入其他奖金",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(p,{label:"养老保险",prop:"pension"},{default:r(()=>[a(f,{modelValue:o.pension,"onUpdate:modelValue":e[42]||(e[42]=l=>o.pension=l),min:0,step:.01,placeholder:"请输入养老保险",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(p,{label:"医疗保险",prop:"medical"},{default:r(()=>[a(f,{modelValue:o.medical,"onUpdate:modelValue":e[43]||(e[43]=l=>o.medical=l),min:0,step:.01,placeholder:"请输入医疗保险",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(p,{label:"失业保险",prop:"unemployment"},{default:r(()=>[a(f,{modelValue:o.unemployment,"onUpdate:modelValue":e[44]||(e[44]=l=>o.unemployment=l),min:0,step:.01,placeholder:"请输入失业保险",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(p,{label:"迟到分钟",prop:"lateDeduction"},{default:r(()=>[a(f,{modelValue:o.lateDeduction,"onUpdate:modelValue":e[45]||(e[45]=l=>o.lateDeduction=l),min:0,step:1,placeholder:"请输入迟到分钟",style:{width:"100%"},onChange:re},null,8,["modelValue"])]),_:1}),a(p,{label:"加班时长(小时)",prop:"overtimeHours"},{default:r(()=>[a(f,{modelValue:o.overtimeHours,"onUpdate:modelValue":e[46]||(e[46]=l=>o.overtimeHours=l),min:0,step:.5,placeholder:"请输入加班时长",style:{width:"100%"},onChange:e[47]||(e[47]=()=>{Be(),re()})},null,8,["modelValue"])]),_:1}),a(p,{label:"加班薪资",prop:"overtimeSalary"},{default:r(()=>[a(f,{modelValue:o.overtimeSalary,"onUpdate:modelValue":e[48]||(e[48]=l=>o.overtimeSalary=l),min:0,step:.01,placeholder:"请输入加班薪资",style:{width:"100%"},disabled:""},null,8,["modelValue"])]),_:1}),a(p,{label:"应发总额",prop:"totalIncome"},{default:r(()=>[a(f,{modelValue:o.totalIncome,"onUpdate:modelValue":e[49]||(e[49]=l=>o.totalIncome=l),min:0,step:.01,placeholder:"请输入应发总额",style:{width:"100%"},disabled:""},null,8,["modelValue"])]),_:1}),a(p,{label:"扣除总额",prop:"totalDeduction"},{default:r(()=>[a(f,{modelValue:o.totalDeduction,"onUpdate:modelValue":e[50]||(e[50]=l=>o.totalDeduction=l),min:0,step:.01,placeholder:"请输入扣除总额",style:{width:"100%"},disabled:""},null,8,["modelValue"])]),_:1}),a(p,{label:"实发薪资",prop:"netSalary"},{default:r(()=>[a(f,{modelValue:o.netSalary,"onUpdate:modelValue":e[51]||(e[51]=l=>o.netSalary=l),min:0,step:.01,placeholder:"请输入实发薪资",style:{width:"100%"},disabled:""},null,8,["modelValue"])]),_:1})])])]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"]),a(Q,{modelValue:ae.value,"onUpdate:modelValue":e[67]||(e[67]=l=>ae.value=l),title:"薪资记录默认配置",width:"600px"},{footer:r(()=>[c("span",Ca,[a(n,{onClick:e[66]||(e[66]=l=>ae.value=!1)},{default:r(()=>[...e[105]||(e[105]=[g("取消",-1)])]),_:1}),a(n,{type:"primary",onClick:Oe},{default:r(()=>[...e[106]||(e[106]=[g("保存",-1)])]),_:1})])]),default:r(()=>[a(ye,{model:m,"label-width":"120px"},{default:r(()=>[c("div",Da,[c("div",Sa,[a(p,{label:"出勤天数"},{default:r(()=>[a(f,{modelValue:m.attendanceDays,"onUpdate:modelValue":e[55]||(e[55]=l=>m.attendanceDays=l),min:0,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(p,{label:"基本薪资"},{default:r(()=>[a(f,{modelValue:m.baseSalary,"onUpdate:modelValue":e[56]||(e[56]=l=>m.baseSalary=l),min:0,step:.01,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(p,{label:"绩效系数/评分"},{default:r(()=>[a(f,{modelValue:m.performance,"onUpdate:modelValue":e[57]||(e[57]=l=>m.performance=l),min:0,step:.01,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(p,{label:"岗位绩效"},{default:r(()=>[a(f,{modelValue:m.positionPerformance,"onUpdate:modelValue":e[58]||(e[58]=l=>m.positionPerformance=l),min:0,step:.01,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(p,{label:"餐补"},{default:r(()=>[a(f,{modelValue:m.mealAllowance,"onUpdate:modelValue":e[59]||(e[59]=l=>m.mealAllowance=l),min:0,step:.01,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),c("div",ka,[a(p,{label:"房补"},{default:r(()=>[a(f,{modelValue:m.housingAllowance,"onUpdate:modelValue":e[60]||(e[60]=l=>m.housingAllowance=l),min:0,step:.01,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(p,{label:"全勤奖"},{default:r(()=>[a(f,{modelValue:m.fullAttendance,"onUpdate:modelValue":e[61]||(e[61]=l=>m.fullAttendance=l),min:0,step:.01,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(p,{label:"其他奖金"},{default:r(()=>[a(f,{modelValue:m.otherBonus,"onUpdate:modelValue":e[62]||(e[62]=l=>m.otherBonus=l),min:0,step:.01,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(p,{label:"养老保险"},{default:r(()=>[a(f,{modelValue:m.pension,"onUpdate:modelValue":e[63]||(e[63]=l=>m.pension=l),min:0,step:.01,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(p,{label:"医疗保险"},{default:r(()=>[a(f,{modelValue:m.medical,"onUpdate:modelValue":e[64]||(e[64]=l=>m.medical=l),min:0,step:.01,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(p,{label:"失业保险"},{default:r(()=>[a(f,{modelValue:m.unemployment,"onUpdate:modelValue":e[65]||(e[65]=l=>m.unemployment=l),min:0,step:.01,style:{width:"100%"}},null,8,["modelValue"])]),_:1})])])]),_:1},8,["model"])]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])])}}}),Ea=_t(ja,[["__scopeId","data-v-33a40558"]]);export{Ea as default};
