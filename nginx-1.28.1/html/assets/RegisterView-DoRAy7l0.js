import{d as h,c as R,a as o,b as e,w as a,r as d,o as q,e as m,f as C,l as w,j as P,m as U,g as V,h as v,i as E,E as g,u as B}from"./index-XKV8mbYI.js";import{r as F}from"./auth-DFDB4IRB.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./request-BYh0DQqL.js";import"./index-B9ygI19o.js";const T={class:"register-container"},j={class:"register-box"},A={class:"input-wrapper"},I={class:"input-wrapper"},L={class:"input-wrapper"},M={class:"input-wrapper"},z={class:"input-wrapper"},D={class:"register-footer"},G=h({__name:"RegisterView",setup(H){const f=B(),p=v(),c=v(!1),r=E({username:"",password:"",confirmPassword:"",nickname:"",email:""}),b={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:2,max:20,message:"用户名长度在 2 到 20 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"密码长度在 6 到 20 个字符",trigger:"blur"}],confirmPassword:[{required:!0,message:"请再次输入密码",trigger:"blur"},{validator:(i,s,t)=>{s!==r.password?t(new Error("两次输入密码不一致")):t()},trigger:"blur"}],nickname:[{required:!0,message:"请输入昵称",trigger:"blur"},{min:2,max:20,message:"昵称长度在 2 到 20 个字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}]},k=async()=>{if(p.value)try{await p.value.validate(),c.value=!0;const i=await F({username:r.username,password:r.password,nickname:r.nickname,email:r.email});i.success?(g.success("注册成功"),f.push("/login")):g.error(i.message||"注册失败")}catch(i){g.error("注册失败："+(i.message||"未知错误"))}finally{c.value=!1}},y=()=>{f.push("/login")};return(i,s)=>{const t=d("el-icon"),u=d("el-input"),n=d("el-form-item"),_=d("el-button"),x=d("el-form");return q(),R("div",T,[o("div",j,[s[8]||(s[8]=o("div",{class:"register-header"},[o("h1",{class:"register-title"},"创建账号"),o("p",{class:"register-subtitle"},"注册您的账号开始使用")],-1)),e(x,{model:r,rules:b,ref_key:"registerFormRef",ref:p,"label-width":"0",class:"register-form"},{default:a(()=>[e(n,{prop:"username"},{default:a(()=>[o("div",A,[e(t,{class:"input-icon"},{default:a(()=>[e(m(C))]),_:1}),e(u,{modelValue:r.username,"onUpdate:modelValue":s[0]||(s[0]=l=>r.username=l),placeholder:"用户名",class:"custom-input"},null,8,["modelValue"])])]),_:1}),e(n,{prop:"password"},{default:a(()=>[o("div",I,[e(t,{class:"input-icon"},{default:a(()=>[e(m(w))]),_:1}),e(u,{modelValue:r.password,"onUpdate:modelValue":s[1]||(s[1]=l=>r.password=l),type:"password",placeholder:"密码",class:"custom-input","show-password":""},null,8,["modelValue"])])]),_:1}),e(n,{prop:"confirmPassword"},{default:a(()=>[o("div",L,[e(t,{class:"input-icon"},{default:a(()=>[e(m(w))]),_:1}),e(u,{modelValue:r.confirmPassword,"onUpdate:modelValue":s[2]||(s[2]=l=>r.confirmPassword=l),type:"password",placeholder:"确认密码",class:"custom-input","show-password":""},null,8,["modelValue"])])]),_:1}),e(n,{prop:"nickname"},{default:a(()=>[o("div",M,[e(t,{class:"input-icon"},{default:a(()=>[e(m(P))]),_:1}),e(u,{modelValue:r.nickname,"onUpdate:modelValue":s[3]||(s[3]=l=>r.nickname=l),placeholder:"昵称",class:"custom-input"},null,8,["modelValue"])])]),_:1}),e(n,{prop:"email"},{default:a(()=>[o("div",z,[e(t,{class:"input-icon"},{default:a(()=>[e(m(U))]),_:1}),e(u,{modelValue:r.email,"onUpdate:modelValue":s[4]||(s[4]=l=>r.email=l),type:"email",placeholder:"邮箱",class:"custom-input"},null,8,["modelValue"])])]),_:1}),e(n,null,{default:a(()=>[e(_,{type:"primary",onClick:k,loading:c.value,class:"register-btn"},{default:a(()=>[...s[5]||(s[5]=[V(" 注册 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),o("div",D,[s[7]||(s[7]=o("span",null,"已有账号？",-1)),e(_,{link:"",class:"login-link",onClick:y},{default:a(()=>[...s[6]||(s[6]=[V("立即登录",-1)])]),_:1})])])])}}}),W=N(G,[["__scopeId","data-v-430be301"]]);export{W as default};
